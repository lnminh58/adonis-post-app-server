(function(e){function t(t){for(var n,i,o=t[0],c=t[1],u=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==s[c]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},s={app:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("64a9"),s=r.n(n);s.a},"0b4e":function(e,t,r){"use strict";var n=r("c71d"),s=r.n(n);s.a},"0d51":function(e,t,r){"use strict";var n=r("c6f1"),s=r.n(n);s.a},"159b":function(e,t,r){},1735:function(e,t,r){"use strict";var n=r("d663"),s=r.n(n);s.a},"2eed":function(e,t,r){},"2ffc":function(e,t,r){"use strict";var n=r("c5db"),s=r.n(n);s.a},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="4678"},"56d7":function(e,t,r){"use strict";r.r(t);r("ac6a"),r("cadf"),r("551c"),r("f751"),r("097d"),r("4989"),r("ab8b");var n=r("bc3a"),s=r.n(n),a=r("2b0e"),i=r("2f62"),o=r("0e44"),c=(r("8e6e"),r("456d"),r("bd86")),u=(r("96cf"),r("3b8d")),l=r("2ef0"),d=r.n(l),p=r("8c9f"),g=r("75fc"),f=r("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row my-3 no-gutters px-md-5"},[n("div",{staticClass:"col-6 col-md-3 d-flex align-items-center justify-content-center"},[e.hashtag?n("span",{staticClass:"badge-secondary badge-pill px-3 py-1"},[e._v("\n        "+e._s(e.hashtag.tag)+"\n        "),n("i",{staticClass:"fa fa-close type-button",on:{click:function(t){return e.clearQueryParams({type:"hashtag"})}}})]):e._e()]),e.category?n("div",{staticClass:"col-6 col-md-3 d-flex align-items-center justify-content-center"},[e._v("\n      In:\n      "),n("span",{staticClass:"badge-secondary badge-pill px-3 py-1 ml-1"},[e._v("\n        "+e._s(e.category.name)+"\n        "),n("i",{staticClass:"fa fa-close type-button",on:{click:function(t){return e.clearQueryParams({type:"category"})}}})])]):e._e(),n("div",{staticClass:"mt-1 col-md-3 ml-auto pl-md-2 d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search a post"},domProps:{value:e.search},on:{input:[function(t){t.target.composing||(e.search=t.target.value)},e.debounceSearchPost]}})]),n("div",{staticClass:"mt-1 col-md-3 pl-md-2 d-flex align-items-center"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.postOrder,expression:"postOrder"}],staticClass:"form-control",on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.postOrder=t.target.multiple?r:r[0]},e.handleChangeOrder]}},[n("option",{domProps:{value:e.POST_ORDER.newest}},[e._v("Newest")]),n("option",{domProps:{value:e.POST_ORDER.popular}},[e._v("Popular")])])])]),n("div",{staticClass:"post-container",on:{scroll:e.onScroll}},[n("div",{directives:[{name:"masonry",rawName:"v-masonry",value:e.masoryPostId,expression:"masoryPostId"}],attrs:{"transition-duration":"0.3s","item-selector":".masonry-item","horizontal-order":!0,"origin-top":!0,stagger:"0.01s"}},e._l(e.publicPosts,(function(t){return n("div",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:e._.get(t,"id"),staticClass:"masonry-item"},[n("post-item",{attrs:{post:t},on:{onOpenLinking:function(r){return e.handleClickOnLinking(t.id)},onOpenDetail:function(r){return e.handleOpenPostDetail(t.id)}}},[n("div",{staticClass:"d-flex justify-content-between",attrs:{slot:"top"},slot:"top"},[n("div",{staticClass:"d-flex text-secondary"},[n("img",{staticClass:"rounded-circle shadow border border-light m-1",staticStyle:{"object-fit":"cover"},attrs:{src:e._.get(t,"user.profile.avatarUrl")||r("889b"),alt:"",height:"50px",width:"50px"}}),n("div",{staticClass:"mt-1 ml-2"},[n("span",{staticClass:"font-weight-bold d-block"},[e._v(e._s(e._.get(t,"user.username")))]),n("span",{staticClass:"small d-block"},[e._v(e._s(e.moment(e._.get(t,"createdAt")).format("YYYY-MM-DD HH:mm")))])])]),n("div",{staticClass:"d-flex flex-column justify-content-center mr-2"},[n("button",{staticClass:"btn btn-link",on:{click:function(r){e.toogleLikePost({postId:e._.get(t,"id"),hasLiked:!!parseInt(e._.get(t,"__meta__.isUserLiked"),10)})}}},[n("i",{staticClass:"fa fa-heart",class:{"text-danger":!!parseInt(e._.get(t,"__meta__.isUserLiked"),10),"text-secondary":!parseInt(e._.get(t,"__meta__.isUserLiked"),10)}})])])])])],1)})),0),n("div",{staticClass:"row"},[e._.get(e.publicPost,"requesting",!1)?n("div",{staticClass:"col-12 text-center"},[n("div",{staticClass:"spinner-grow mt-3"})]):e._e()])])])},b=[],h=(r("386d"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"position-relative post"},[e._t("top"),r("div",{staticClass:"text-center img-container"},[r("img",{staticClass:"img-fluid type-button",style:{height:e.imageHeight||"auto"},attrs:{src:e._.get(e.post,"media[0].source")},on:{click:function(t){return e.$emit("onOpenDetail")},mouseup:function(t){return"button"in t&&1!==t.button?null:e.$emit("onOpenDetail")}}})]),r("div",{staticClass:"post-detail p-2 text-secondary"},[r("span",{staticClass:"font-weight-bold d-block"},[e._v(e._s(e._.get(e.post,"title")))]),r("div",[r("span",[e._v(e._s(e._.get(e.post,"__meta__.totalLikeds",0))+" "),r("i",{staticClass:"fa fa-heart mr-3"})]),r("span",[e._v(e._s(e._.get(e.post,"view",0))+" "),r("i",{staticClass:"fa fa-eye"})])]),r("span",{staticClass:"block-with-text"},[e._v("\n      "+e._s(e._.get(e.post,"description"))+"\n    ")]),r("div",{staticClass:"d-flex justify-content-between align-items-center"},[r("span",{staticClass:"font-weight-bold"},[e._v("In: "+e._s(e._.get(e.post,"category.name")))]),r("a",{staticClass:"btn btn-link ml-auto",attrs:{target:"_blank",href:""+e.post.link},on:{click:function(t){return e.$emit("onOpenLinking")},mouseup:function(t){return"button"in t&&1!==t.button?null:e.$emit("onOpenLinking")}}},[r("i",{staticClass:"fa fa-link"})])])])],2)}),v=[],O={props:{post:{type:Object},imageHeight:{type:String}}},j=O,y=(r("fd2c"),r("2877")),w=Object(y["a"])(j,h,v,!1,null,"19f33518",null),_=w.exports,C={male:"MALE",female:"FEMALE"},x={newest:"NEWEST",popular:"POPULAR"},P={facebook:"FACEBOOK",google:"GOOGLE"},k=12;function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R={name:"home",data:function(){return{masoryPostId:null,postOrder:x.newest,search:"",POST_ORDER:x,debounceSearchPost:Object(l["debounce"])(this.handleSearchPost,800)}},computed:E({},Object(i["c"])({publicPost:function(e){return Object(l["get"])(e,"post.publicPost")},hashtag:function(e){return Object(l["get"])(e,"post.postQuery.hashtag")},category:function(e){return Object(l["get"])(e,"post.postQuery.category")}}),{},Object(i["b"])({currentUser:"currentUser",publicPosts:"publicPosts",postDetail:"postDetail"})),components:{PostItem:_},mounted:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getPosts();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{hashtag:function(e,t){Object(l["isEqual"])(e,t)||this.getPosts()},category:function(e,t){Object(l["isEqual"])(e,t)||this.getPosts()}},methods:{onScroll:function(e){var t=e.target,r=t.scrollTop,n=t.clientHeight,s=t.scrollHeight;r+n>=s&&this.handleLoadMorePost()},handleChangeOrder:function(){this.getPosts()},handleSearchPost:function(){this.getPosts()},getPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,r=void 0===t?1:t;return this.$store.dispatch("getPosts",{page:r,orderBy:this.postOrder,q:this.search,hashtagId:Object(l["get"])(this.hashtag,"id"),categoryId:Object(l["get"])(this.category,"id")})},handleClickOnLinking:function(e){this.$store.dispatch("openPostLinking",{postId:e})},handleOpenPostDetail:function(e){this.$router.push("/post-detail/".concat(e))},clearQueryParams:function(e){var t=e.type;switch(t){case"hashtag":this.$store.dispatch("changeHashtagParam",null);break;case"category":this.$store.dispatch("changeCategoryParam",null);break;default:}},toogleLikePost:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("toogleLikePost",t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleLoadMorePost:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(l["get"])(this.publicPost,"result.page"),r=Object(l["get"])(this.publicPost,"result.lastPage"),n=Object(l["get"])(this.publicPost,"requesting"),!(t<r)||n){e.next=6;break}return e.next=6,this.getPosts({page:t+1});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},U=R,I=(r("e7ad"),Object(y["a"])(U,m,b,!1,null,"4a70e11f",null)),D=I.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container mt-4 pb-5"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col col-md-6 col-sm-10 col-sx-12 mx-auto"},[n("div",{staticClass:"text-left d-flex flex-column"},[n("span",{staticClass:"d-block text-left h3 text-muted font-weight-light session-header font-italic"},[e._v("\n          Information\n        ")]),n("div",{staticClass:"align-self-center position-relative",on:{mouseenter:function(t){e.isShowEditAvatarButton=!0},mouseleave:function(t){e.isShowEditAvatarButton=!1}}},[n("img",{staticClass:"img-fluid bg-dark rounded-circle avatar",attrs:{src:e._.get(e.userProfile,"avatarUrl")||r("889b"),alt:"avatar"}}),n("div",{staticClass:"over-img-btn"},[n("transition",{attrs:{"enter-active-class":"show","leave-active-class":"hide"}},[e.isShowEditAvatarButton?n("button",{staticClass:"btn btn-outline-light border-0 btn-sm btn-container",on:{click:function(t){return e.$modal.show("avatarUpload")}}},[n("i",{staticClass:"fa fa-upload fa-2x mx-2 text-secondary"})]):e._e()])],1)]),n("ValidationObserver",{ref:"updateProfileValidator",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.invalid;return[n("TextField",{attrs:{name:"Phone",type:"text",rules:"required|numeric|min:10|max:11|"},model:{value:e.profileForm.phone,callback:function(t){e.$set(e.profileForm,"phone",t)},expression:"profileForm.phone"}}),n("TextField",{attrs:{name:"Identify Card Number",type:"text",rules:"required|numeric|length:9"},model:{value:e.profileForm.identifyCardNumber,callback:function(t){e.$set(e.profileForm,"identifyCardNumber",t)},expression:"profileForm.identifyCardNumber"}}),n("div",{staticClass:"form-group"},[n("label",{staticClass:"text-secondary"},[e._v("Gender")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.profileForm.gender,expression:"profileForm.gender"}],staticClass:"custom-select rounded-form",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.profileForm,"gender",t.target.multiple?r:r[0])}}},[n("option",{domProps:{value:e.GENDER.male}},[e._v("Male")]),n("option",{domProps:{value:e.GENDER.female}},[e._v("Female")])])]),n("TextField",{attrs:{name:"Address",type:"text",rules:"required"},model:{value:e.profileForm.address,callback:function(t){e.$set(e.profileForm,"address",t)},expression:"profileForm.address"}}),n("TextField",{attrs:{name:"City",type:"text"},model:{value:e.profileForm.city,callback:function(t){e.$set(e.profileForm,"city",t)},expression:"profileForm.city"}}),n("TextField",{attrs:{name:"Country",type:"text"},model:{value:e.profileForm.country,callback:function(t){e.$set(e.profileForm,"country",t)},expression:"profileForm.country"}}),n("button",{staticClass:"btn mt-5 btn-block btn-outline-secondary rounded-button",attrs:{disabled:r||e._.get(e.profile,"requesting")},on:{click:e.updateProfile}},[e._.get(e.profile,"requesting")?n("div",{staticClass:"spinner-grow spinner-grow-sm"}):n("span",[e._v("\n              Update\n            ")])])]}}])})],1)])]),n("div",{staticClass:"row mt-5"},[n("div",{staticClass:"col col-md-6 col-sm-10 col-sx-12 mx-auto"},[n("div",{staticClass:"text-left d-flex flex-column"},[n("span",{staticClass:"d-block text-left h3 text-muted font-weight-light session-header font-italic"},[e._v("\n          Change password\n        ")]),n("ValidationObserver",{ref:"updatePasswordValidator",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.invalid;return[n("TextField",{attrs:{name:"Old Password",type:"password",rules:"min:6"},model:{value:e.passwordForm.oldPassword,callback:function(t){e.$set(e.passwordForm,"oldPassword",t)},expression:"passwordForm.oldPassword"}},[n("small",{staticClass:"text-muted",attrs:{slot:"description"},slot:"description"},[e._v("\n              Left this field if not set before.\n            ")])]),n("TextField",{attrs:{name:"Password",type:"password",rules:"required|min:6",vid:"confirmation"},model:{value:e.passwordForm.password,callback:function(t){e.$set(e.passwordForm,"password",t)},expression:"passwordForm.password"}}),n("TextField",{attrs:{name:"Confirm Password",type:"password",rules:"required|min:6|confirmed:confirmation"},model:{value:e.passwordForm.confirmPassword,callback:function(t){e.$set(e.passwordForm,"confirmPassword",t)},expression:"passwordForm.confirmPassword"}}),n("button",{staticClass:"btn mt-5 btn-block btn-outline-secondary rounded-button",attrs:{disabled:r||e._.get(e.passwordUpdating,"requesting")},on:{click:e.handleChangePassword}},[e._.get(e.passwordUpdating,"requesting")?n("div",{staticClass:"spinner-grow spinner-grow-sm"}):n("span",[e._v("\n              Update\n            ")])])]}}])})],1)])]),n("modal",{attrs:{name:"avatarUpload",height:"auto",draggable:!0,clickToClose:!e._.get(e.avatarUpdating,"requesting"),transition:"nice-modal-fade",delay:100,classes:"shadow-lg"}},[n("drop-file-input",{attrs:{file:e.image},on:{onRemove:e.handleRemoveImage,onChange:function(t){return e.image=t},onSave:e.handleChangeAvatar}},[n("button",{staticClass:"btn btn-outline-secondary mt-2 w-25 mx-auto d-block",attrs:{slot:"bottom",disabled:e._.get(e.avatarUpdating,"requesting")},on:{click:e.handleChangeAvatar},slot:"bottom"},[e._.get(e.avatarUpdating,"requesting")?n("div",{staticClass:"spinner-grow spinner-grow-sm"}):n("span",[e._v("\n          Save\n        ")])])])],1)],1)},T=[],F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"$attrs.class"},[r("ValidationProvider",{attrs:{vid:e.vid,name:e.name,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;t.touched,t.changed,t.validated;return[r("div",{staticClass:"form-group"},[e.hiddenLabel?e._e():r("label",{staticClass:"text-secondary"},[e._v(e._s(e.name))]),"checkbox"===e.$attrs.type?r("input",{directives:[{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],staticClass:"form-control rounded-form",attrs:{placeholder:e.$attrs.placeholder||"Enter "+e.name.toLowerCase()+" here...",tabindex:e.$attrs.tabindex,type:"checkbox"},domProps:{checked:Array.isArray(e.innerValue)?e._i(e.innerValue,null)>-1:e.innerValue},on:{change:function(t){var r=e.innerValue,n=t.target,s=!!n.checked;if(Array.isArray(r)){var a=null,i=e._i(r,a);n.checked?i<0&&(e.innerValue=r.concat([a])):i>-1&&(e.innerValue=r.slice(0,i).concat(r.slice(i+1)))}else e.innerValue=s}}}):"radio"===e.$attrs.type?r("input",{directives:[{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],staticClass:"form-control rounded-form",attrs:{placeholder:e.$attrs.placeholder||"Enter "+e.name.toLowerCase()+" here...",tabindex:e.$attrs.tabindex,type:"radio"},domProps:{checked:e._q(e.innerValue,null)},on:{change:function(t){e.innerValue=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],staticClass:"form-control rounded-form",attrs:{placeholder:e.$attrs.placeholder||"Enter "+e.name.toLowerCase()+" here...",tabindex:e.$attrs.tabindex,type:e.$attrs.type},domProps:{value:e.innerValue},on:{input:function(t){t.target.composing||(e.innerValue=t.target.value)}}}),e._t("description"),n[0]?r("span",{staticClass:"form-text text-danger small"},[e._v("\n        "+e._s(n[0])+"\n      ")]):e._e()],2)]}}],null,!0)})],1)},A=[],q={name:"TextField",props:{vid:{type:String},value:{type:null},hiddenLabel:{type:Boolean,default:!1},rules:{type:[Object,String],default:""},name:{type:String,required:!0}},data:function(){return{innerValue:""}},watch:{innerValue:function(e){this.$emit("input",e)},value:function(e){this.innerValue=e}},created:function(){this.value&&(this.innerValue=this.value)}},$=q,M=(r("2ffc"),Object(y["a"])($,F,A,!1,null,"3652fb3a",null)),N=M.exports,V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bg-light p-2 rounded"},[e.image?r("div",[r("div",{staticClass:"d-flex justify-content-center"},[r("div",{staticClass:"position-relative "},[r("img",{staticClass:"img-fluid preview",attrs:{src:e.image}}),r("button",{staticClass:"btn btn-light shadow-sm btn-small btn-remove-image rounded-circle",on:{click:function(t){return e.$emit("onRemove")}}},[r("i",{staticClass:"fa fa-close text-danger"})])])]),e._t("bottom")],2):r("div",[r("div",{staticClass:"rounded d-flex",class:["dropzone-area",e.dragging?"dropzone-over":""],on:{dragover:function(t){e.dragging=!0},drop:function(t){e.dragging=!1},dragleave:function(t){e.dragging=!1}}},[r("span",{staticClass:"lead align-self-center mx-auto"},[e._v("Drop image here or click to select")]),r("input",{attrs:{type:"file",accept:e.acceptType},on:{change:e.onFileChange}})])])])},G=[],z=(r("6762"),r("2fdb"),r("28a5"),{props:{file:{type:File,default:null},acceptType:{type:String,default:"image/*"},exts:{type:Array,default:function(){return["jpeg","png"]}}},data:function(){return{image:null,dragging:!1}},watch:{file:function(e){var t=this;if(e){var r=new FileReader;r.onload=function(e){t.image=e.target.result},r.readAsDataURL(this.file)}else this.image=""}},methods:{onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;if(t.length){var r=t[0],n=r.type.split("/");this.acceptType.includes(n[0])&&this.exts.includes(n[1])&&this.$emit("onChange",r)}}}}),B=z,H=(r("d5b4"),Object(y["a"])(B,V,G,!1,null,"5eb80493",null)),W=H.exports;function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var K={data:function(){return{GENDER:C,image:null,isShowEditAvatarButton:!1,profileForm:{phone:null,identifyCardNumber:null,gender:C.male,address:null,city:null,country:null},passwordForm:{oldPassword:null,password:null,confirmPassword:null}}},components:{TextField:N,DropFileInput:W},mounted:function(){this.initProfileForm()},computed:Q({},Object(i["b"])({userProfile:"userProfile"}),{},Object(i["c"])({profile:function(e){return Object(l["get"])(e,"user.profile")},passwordUpdating:function(e){return Object(l["get"])(e,"user.passwordUpdating")},avatarUpdating:function(e){return Object(l["get"])(e,"user.avatarUpdating")}})),watch:{userProfile:function(){this.initProfileForm()}},methods:{updateProfile:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.updateProfileValidator.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.$store.dispatch("updateProfile",this.profileForm);case 7:r=Object(l["get"])(this.profile,"status"),this.$toast[r]("Update profile ".concat(r,"!"));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleChangePassword:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("changePassword",this.passwordForm);case 2:t=Object(l["get"])(this.passwordUpdating,"status"),this.$toast[t]("Updating password ".concat(t,"!"));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleChangeAvatar:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("updateAvatar",this.image);case 2:t=this.avatarUpdating.status,this.$toast[t]("Update profile ".concat(t,"!")),"success"===t&&(this.image=null,this.$modal.hide("avatarUpload"));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleRemoveImage:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(l["get"])(this.avatarUpdating,"requesting")||(this.image=null);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initProfileForm:function(){this.userProfile&&(this.profileForm.phone=Object(l["get"])(this.userProfile,"phone"),this.profileForm.identifyCardNumber=Object(l["get"])(this.userProfile,"identifyCardNumber"),this.profileForm.gender=Object(l["get"])(this.userProfile,"gender",C.male),this.profileForm.address=Object(l["get"])(this.userProfile,"address"),this.profileForm.city=Object(l["get"])(this.userProfile,"city"),this.profileForm.country=Object(l["get"])(this.userProfile,"country"))}}},J=K,X=(r("0d51"),Object(y["a"])(J,L,T,!1,null,"9255a1e0",null)),Z=X.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"vh-100 bg-info d-flex flex-column justify-content-center\n      align-items-center login-container",class:{blur:e.isModalShown}},[e._m(0),r("div",{staticClass:"login-card bg-semi-transparent card px-4 pt-5 pb-4 shadow-lg w-25\n        rounded-0 text-left my-5",class:{"bg-transparent":e.isModalShown}},[r("span",{staticClass:"text-danger mb-3 text-center"},[e._v(e._s(e.loginError)+"\n\n        "),e.needActiveEmail?r("button",{staticClass:"btn btn-link text-info",attrs:{disabled:e._.get(e.verifyEmail,"requesting")||0!==e.countDownSendEmail},on:{click:function(t){return e.handleResendVerifyEmail()}}},[e._v("\n          Click here to resend a verify email\n        ")]):e._e(),0!==e.countDownSendEmail?r("span",{staticClass:"text-secondary"},[e._v("\n          Try again after "+e._s(e.countDownSendEmail)+" second(s)\n        ")]):e._e()]),r("ValidationObserver",{ref:"signInValidator",scopedSlots:e._u([{key:"default",fn:function(t){t.invalid;return[r("TextField",{attrs:{name:"Email",hiddenLabel:!0,type:"text",rules:"required|email",placeholder:"Email"},model:{value:e.signInForm.email,callback:function(t){e.$set(e.signInForm,"email",t)},expression:"signInForm.email"}}),r("div",{staticClass:"mt-4"}),r("TextField",{attrs:{name:"Password",hiddenLabel:!0,type:"password",rules:"required|min:6",placeholder:"Password"},model:{value:e.signInForm.password,callback:function(t){e.$set(e.signInForm,"password",t)},expression:"signInForm.password"}}),r("button",{staticClass:"btn btn-block btn-outline-secondary mt-4 rounded-form",attrs:{disabled:e._.get(e.signIn,"requesting")},on:{click:e.handleSignIn}},[e._.get(e.signIn,"requesting")?r("div",{staticClass:"spinner-grow spinner-grow-sm"}):r("span",{staticClass:"font-weight-normal"},[e._v("login")])])]}}])}),r("p",{staticClass:"muted mt-4 mb-0 text-secondary text-center"},[e._v("\n        Not registered?\n        "),r("a",{staticClass:"text-info",attrs:{href:"#"},on:{click:function(t){return e.$modal.show("registerModal")}}},[e._v("\n          Create an account\n        ")])]),r("p",{staticClass:"muted text-secondary text-center"},[e._v("\n        Forget Password?\n        "),r("router-link",{staticClass:"text-info",attrs:{href:"#",to:"forget-password"}},[e._v("\n          Click here!\n        ")])],1),r("VFBLoginScope",{attrs:{appId:e.FACEBOOK_APP_ID},on:{login:e.handleLoginWithFacebook},scopedSlots:e._u([{key:"default",fn:function(t){return r("button",{staticClass:"btn btn-primary rounded-form",attrs:{disabled:t.disabled},on:{click:t.toggleLogin}},[t.enabled?e._t("before",[r("i",{staticClass:"fa fa-facebook"})]):e._e(),r("span",[t.enabled&&t.disconnected?e._t("login",[e._v("\n              Sign in with Facebook\n            ")]):e._e(),t.enabled&&t.connected?e._t("logout",[e._v("\n              Sign out with Facebook\n            ")]):e._e(),t.working?e._t("working",[r("div",{staticClass:"spinner-grow spinner-grow-sm"})]):e._e()],2)],2)}}],null,!0)}),r("g-signin-button",{staticClass:"btn btn-danger mt-2 rounded-form",attrs:{params:e.googleSignInParams},on:{success:e.onLoginWithGoogleSuccess,error:e.onLoginWithGoogleError}},[r("i",{staticClass:"fa fa-google"}),r("span",[e._v("\n          Sign in with Google\n        ")])])],1)]),r("modal",{attrs:{name:"registerModal",height:"auto",draggable:!0,clickToClose:!1,transition:"nice-modal-fade",delay:200,classes:"shadow-lg",pivotY:.65},on:{"before-open":function(t){e.isModalShown=!0},"before-close":function(t){e.isModalShown=!1}}},[r("div",{staticClass:"modal-content rounded-0 modal-form"},[r("ValidationObserver",{ref:"signUpValidator"},[r("div",{staticClass:"modal-header"},[r("h5",{staticClass:"modal-title lead text-secondary"},[e._v("\n            Register New Account\n          ")]),r("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.$modal.hide("registerModal")}}},[r("span",{staticClass:"text-danger",attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])]),r("div",{staticClass:"modal-body text-left px-4"},["error"===e._.get(e.signUp,"status")?r("span",{staticClass:"text-danger d-block text-center mb-3 text-center"},[e._v(e._s(e._.get(e.signUp,"error.data[0].message","An error occur while processing"))+"\n          ")]):e._e(),"success"===e._.get(e.signUp,"status")?r("span",{staticClass:"text-info d-block text-center mb-3 text-center"},[e._v("\n            Your account has been register. A confirmation email has been sent to your email.\n            Please check it.\n          ")]):e._e(),r("form",[r("TextField",{attrs:{name:"Email",type:"email",rules:"required|email"},model:{value:e.signUpForm.email,callback:function(t){e.$set(e.signUpForm,"email",t)},expression:"signUpForm.email"}},[r("small",{staticClass:"text-muted",attrs:{slot:"description"},slot:"description"},[e._v("\n                We'll never share your email with anyone else.\n              ")])]),r("TextField",{attrs:{name:"Username",type:"text",rules:"required"},model:{value:e.signUpForm.username,callback:function(t){e.$set(e.signUpForm,"username",t)},expression:"signUpForm.username"}}),r("TextField",{attrs:{name:"Password",type:"password",rules:"required|min:6",vid:"confirmation"},model:{value:e.signUpForm.password,callback:function(t){e.$set(e.signUpForm,"password",t)},expression:"signUpForm.password"}}),r("TextField",{attrs:{name:"Confirm Password",type:"password",rules:"required|min:6|confirmed:confirmation"},model:{value:e.signUpForm.confirmPassword,callback:function(t){e.$set(e.signUpForm,"confirmPassword",t)},expression:"signUpForm.confirmPassword"}})],1)]),r("div",{staticClass:"modal-footer px-4"},[r("button",{staticClass:"btn btn-outline-secondary rounded-form btn-block my-2",attrs:{type:"button",disabled:e._.get(e.signUp,"requesting")},on:{click:e.handleSignUp}},[e._.get(e.signUp,"requesting")?r("div",{staticClass:"spinner-grow spinner-grow-sm"}):r("span",[e._v("\n              Send\n            ")])])])])],1)])],1)},te=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pb-3"},[r("blockquote",{staticClass:"blockquote text-center"},[r("span",{staticClass:"mb-0 h1 font-weight-lighter font-italic title"},[e._v("\n          Vuejs Adonis CRUD System demo.\n        ")]),r("footer",{staticClass:"blockquote-footer text-right"},[e._v("Adonis Vuejs "),r("cite",[e._v("Frameworks")])])])])}],re=r("6d76");function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae={components:{TextField:N,VFBLoginScope:re["VFBLoginScope"]},data:function(){return{googleSignInParams:{client_id:"1007497798702-fkjbadii87usbb6ui6c7p62jkl2chjn8.apps.googleusercontent.com"},FACEBOOK_APP_ID:"1177035546019005",signUpForm:{email:null,username:null,passwword:null},signInForm:{email:null,password:null},needActiveEmail:null,loginError:null,signUpError:null,isModalShown:!1,countDownSendEmail:0}},computed:se({},Object(i["c"])({signIn:function(e){return Object(l["get"])(e,"user.signIn")},signUp:function(e){return Object(l["get"])(e,"user.signUp")},verifyEmail:function(e){return Object(l["get"])(e,"user.verifyEmail")}})),methods:{handleSignUp:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.signUpValidator.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.$store.dispatch("signUp",this.signUpForm);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSignIn:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.signInValidator.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.$store.dispatch("signIn",this.signInForm);case 7:r=Object(l["get"])(this.signIn,"status"),this.loginError="error"===r?Object(l["get"])(this.signIn,"error.data.message","Email or Password is incorrect"):null,this.needActiveEmail=403===Object(l["get"])(this.signIn,"error.status");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleResendVerifyEmail:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.signInForm.email,e.next=3,this.$store.dispatch("resendVerifyAccountEmail",{email:t});case 3:r=this.verifyEmail.status,this.$toast[r]("Email resend ".concat(r,"!")),"success"===r&&this.handleCountDownSendEmail();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleCountDownSendEmail:function(){var e=this;this.countDownSendEmail=60;var t=setInterval((function(){e.countDownSendEmail-=1,0===e.countDownSendEmail&&clearInterval(t)}),1e3)},handleLoginWithFacebook:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.authResponse,!r){e.next=5;break}return n=Object(l["get"])(t,"authResponse.accessToken"),e.next=5,this.$store.dispatch("loginWithSocial",{accessToken:n,loginSource:P.facebook});case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onLoginWithGoogleSuccess:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return r=Object(l["get"])(t,"Zi.access_token"),e.next=4,this.$store.dispatch("loginWithSocial",{accessToken:r,loginSource:P.google});case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onLoginWithGoogleError:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},ie=ae,oe=(r("8b6e"),Object(y["a"])(ie,ee,te,!1,null,"28f3160a",null)),ce=oe.exports,ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container-fluid main-container min-vh-100 "},[e._m(0),r("div",{staticClass:"row justify-content-center pt-5 form-step"},[r("div",{staticClass:"col-12 col-md-8 px-5 min-vh-10 step-bar-container"},[r("step-progress",{attrs:{steps:e.formSteps,"current-step":e.currentStep,"icon-class":"fa fa-check",activeColor:"rgb(0, 173, 130)",passiveColor:"#cecece",activeThickness:2,lineThickness:5}})],1),r("div",{staticClass:"col-12 col-md-8"},[r("carousel",{attrs:{perPage:1,paginationEnabled:!1,mouseDrag:!1,navigateTo:e.currentStep,touchDrag:!1}},[r("slide",{staticClass:"d-flex flex-column justify-content-center mt-5"},[r("div",{staticClass:"mx-3 mx-md-5"},[r("ValidationObserver",{ref:"step1Validator"},[r("TextField",{attrs:{hiddenLabel:"",name:"Email",type:"email",rules:"required|email",tabindex:"-1"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}},[r("p",{staticClass:"text-muted mt-2 mb-0",attrs:{slot:"description"},slot:"description"},[e._v("\n                  Please provide email of your account.\n                ")])])],1)],1)]),r("slide",{staticClass:"d-flex flex-column justify-content-center mt-5"},[r("div",{staticClass:"mx-3 mx-md-5"},[r("ValidationObserver",{ref:"step2Validator"},[r("form",[r("TextField",{staticClass:"mb-3",attrs:{hiddenLabel:"",name:"code",type:"text",rules:"required",tabindex:"-1"},model:{value:e.form.confirmCode,callback:function(t){e.$set(e.form,"confirmCode",t)},expression:"form.confirmCode"}},[r("p",{staticClass:"text-muted mt-2 mb-0",attrs:{slot:"description"},slot:"description"},[e._v("\n                    Please enter the code that has been sent to your email address.\n                  ")])])],1)])],1)]),r("slide",{staticClass:"d-flex flex-column justify-content-center mt-5"},[r("div",{staticClass:"mx-3 mx-md-5"},[r("ValidationObserver",{ref:"step3Validator"},[r("TextField",{attrs:{name:"Password",type:"password",rules:"required|min:6",vid:"confirmation",tabindex:"-1"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),r("TextField",{attrs:{name:"Confirm Password",type:"password",rules:"required|min:6|confirmed:confirmation",tabindex:2===e.currentStep?null:-1},model:{value:e.form.confirmPassword,callback:function(t){e.$set(e.form,"confirmPassword",t)},expression:"form.confirmPassword"}})],1)],1)]),r("slide",{staticClass:"d-flex flex-column justify-content-center mt-5"},[r("div",{staticClass:"mx-3 mx-md-5 text-center"},[r("p",{staticClass:"h2 font-weight-light text-secondary"},[e._v("\n              Your account password have been updated successfully!\n            ")])])])],1)],1),r("div",{staticClass:"col-12"},[r("div",{staticClass:" d-flex justify-content-end"},[r("button",{staticClass:"btn btn-link text-info my-3 btn-submit",class:{invisible:e.currentStep>=3},attrs:{disabled:e.currentStep>=3||e.isProcessing},on:{click:e.handleResetPassword}},[e.isProcessing?r("div",{staticClass:"spinner-grow"}):r("i",{staticClass:"fa fa-3x fa-arrow-circle-right"})])])])])])},le=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-auto my-5"},[r("blockquote",{staticClass:"blockquote text-center"},[r("span",{staticClass:"mb-0 font-weight-lighter font-italic title d-block"},[e._v("\n          Vuejs Adonis CRUD System demo.\n        ")]),r("span",{staticClass:"blockquote-footer text-right"},[e._v(" Adonis Vuejs "),r("cite",[e._v("Frameworks")])])])])])}],de=r("46e0"),pe=r.n(de);r("c91a");function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var me={data:function(){return{formSteps:["Enter email","Verify","Change Password"],currentStep:0,form:{email:null,confirmCode:null,password:null,confirmPassword:null}}},components:{"step-progress":pe.a,TextField:N},computed:fe({},Object(i["c"])({passwordResetCodeSending:function(e){return Object(l["get"])(e,"user.passwordResetCodeSending")},passwordResetting:function(e){return Object(l["get"])(e,"user.passwordResetting")},passwordResetCodeVerifying:function(e){return Object(l["get"])(e,"user.passwordResetCodeVerifying")}}),{isProcessing:function(){return Object(l["get"])(this.passwordResetCodeSending,"requesting")||Object(l["get"])(this.passwordResetCodeVerifying,"requesting")||Object(l["get"])(this.passwordResetting,"requesting")}}),watch:{"form.confirmCode":function(e){this.form.confirmCode=e.toUpperCase()}},methods:{handleResetPassword:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs["step".concat(this.currentStep+1,"Validator")].validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:e.t0=this.currentStep,e.next=0===e.t0?8:1===e.t0?10:2===e.t0?12:14;break;case 8:return this.sendPasswordResetCode(),e.abrupt("break",15);case 10:return this.verifyPasswordResetCode(),e.abrupt("break",15);case 12:return this.resetPassword(),e.abrupt("break",15);case 14:return e.abrupt("break",15);case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),sendPasswordResetCode:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("sendPasswordResetCode",{email:this.form.email});case 2:if(t=this.passwordResetCodeSending.status,"success"!==t){e.next=6;break}return this.currentStep+=1,e.abrupt("return");case 6:r=this.passwordResetCodeSending.error,n=r.status,e.t0=n,e.next=404===e.t0?11:13;break;case 11:return this.$toast.error("User not found or services has problem.Please try again!"),e.abrupt("break",14);case 13:this.$toast.error("An error occurred while processing!");case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),verifyPasswordResetCode:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(l["get"])(this.passwordResetCodeSending,"result.userId"),e.next=3,this.$store.dispatch("verifyPasswordResetCode",{code:this.form.confirmCode,userId:t});case 3:if(r=this.passwordResetCodeVerifying.status,"success"!==r){e.next=7;break}return this.currentStep+=1,e.abrupt("return");case 7:n=this.passwordResetCodeVerifying.error,s=n.status,e.t0=s,e.next=400===e.t0?12:14;break;case 12:return this.$toast.error("Wrong code! Please try again"),e.abrupt("break",15);case 14:this.$toast.error("An error occurred while processing!");case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetPassword:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(l["get"])(this.passwordResetCodeSending,"result.userId"),e.next=3,this.$store.dispatch("resetPassword",{password:this.form.password,userId:t});case 3:if(r=this.passwordResetting.status,"success"!==r){e.next=7;break}return this.currentStep+=1,e.abrupt("return");case 7:n=this.passwordResetting.error,s=n.status,e.t0=s,e.next=400===e.t0?12:14;break;case 12:return this.$toast.error("Invalid password! Please try again"),e.abrupt("break",15);case 14:this.$toast.error("An error occurred while processing!");case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},be=me,he=(r("9cb6"),Object(y["a"])(be,ue,le,!1,null,"0feb751f",null)),ve=he.exports,Oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row my-3 no-gutters"},[r("router-link",{staticClass:"btn btn-outline-info mr-auto",attrs:{to:"post/post-edit"}},[e._v("\n      Post new...\n    ")])],1),r("div",{staticClass:"row my-3 post-container",on:{scroll:e.onScroll}},[e._l(e.myPosts,(function(t){return r("div",{key:e._.get(t,"id"),staticClass:"col-12 col-md-4 mx-auto mx-md-0 p-2 post-item-container"},[r("post-item",{attrs:{post:t,imageHeight:"300px"},on:{onOpenDetail:function(r){return e.handleOpenPostDetail(t.id)}}},[r("div",{staticClass:"dropdown action d-flex",attrs:{slot:"top"},slot:"top"},[r("button",{staticClass:"btn btn-link p-0 ml-auto mr-2",attrs:{type:"button",id:"action-"+t.id,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[r("i",{staticClass:"text-secondary fa fa-chevron-down"})]),r("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"action-"+t.id}},[r("a",{staticClass:"btn btn-block m-0 btn-link text-secondary"},[e._v("Edit")]),r("a",{staticClass:"btn btn-block m-0 btn-link text-danger",on:{click:function(r){return e.handleDeletePost(t.id)}}},[e._v("\n              Delete\n            ")])])])])],1)})),e._.get(e.myPost,"requesting",!1)?r("div",{staticClass:"col-12 text-center"},[r("div",{staticClass:"spinner-grow mt-3"})]):e._e()],2)])},je=[];function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _e={computed:we({},Object(i["c"])({myPost:function(e){return Object(l["get"])(e,"post.myPost")}}),{},Object(i["b"])({currentUser:"currentUser",myPosts:"myPosts"})),components:{PostItem:_},mounted:function(){this.$store.dispatch("getCategories"),this.$store.dispatch("getMyPosts",{page:1,userId:Object(l["get"])(this.currentUser,"id")})},methods:{handleDeletePost:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("deletePost",{postId:t});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onScroll:function(e){var t=e.target,r=t.scrollTop,n=t.clientHeight,s=t.scrollHeight;r+n>=s&&this.handleLoadMorePost()},handleOpenPostDetail:function(e){this.$router.push("/post-detail/".concat(e))},handleLoadMorePost:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(l["get"])(this.myPost,"result.page"),r=Object(l["get"])(this.myPost,"result.lastPage"),n=Object(l["get"])(this.myPost,"requesting"),!(t<r)||n){e.next=6;break}return e.next=6,this.$store.dispatch("getMyPosts",{page:t+1,userId:Object(l["get"])(this.currentUser,"id")});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Ce=_e,xe=(r("b96e"),Object(y["a"])(Ce,Oe,je,!1,null,"467a496b",null)),Pe=xe.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"row my-3 post-container",on:{scroll:e.onScroll}},[e._l(e.likedPosts,(function(t){return n("div",{key:e._.get(t,"id"),staticClass:"col-12 col-md-4 mx-auto mx-md-0 p-2 post-item-container"},[n("post-item",{attrs:{post:t,imageHeight:"300px"},on:{onOpenDetail:function(r){return e.handleOpenPostDetail(t.id)},onOpenLinking:function(r){return e.handleClickOnLinking(t.id)}}},[n("div",{staticClass:"d-flex justify-content-between",attrs:{slot:"top"},slot:"top"},[n("div",{staticClass:"d-flex text-secondary"},[n("img",{staticClass:"rounded-circle shadow border border-light m-1",staticStyle:{"object-fit":"cover"},attrs:{src:e._.get(t,"user.profile.avatarUrl")||r("889b"),alt:"",height:"50px",width:"50px"}}),n("div",{staticClass:"mt-1 ml-2"},[n("span",{staticClass:"font-weight-bold d-block"},[e._v(e._s(e._.get(t,"user.username")))]),n("span",{staticClass:"small d-block"},[e._v(e._s(e.moment(e._.get(t,"createdAt")).format("YYYY-MM-DD HH:mm")))])])]),n("div",{staticClass:"d-flex flex-column justify-content-center mr-2"},[n("button",{staticClass:"btn btn-link",on:{click:function(r){e.removeLikedPost(e._.get(t,"id"))}}},[n("i",{staticClass:"fa fa-heart text-danger"})])])])])],1)})),e._.get(e.likedPost,"requesting",!1)?n("div",{staticClass:"col-12 text-center"},[n("div",{staticClass:"spinner-grow mt-3"})]):e._e()],2)])},Se=[];function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ue={computed:Re({},Object(i["c"])({likedPost:function(e){return Object(l["get"])(e,"post.likedPost")}}),{},Object(i["b"])({currentUser:"currentUser",likedPosts:"likedPosts"})),components:{PostItem:_},mounted:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("getLikedPost",{page:1,userId:Object(l["get"])(this.currentUser,"id")});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{handleOpenPostDetail:function(e){this.$router.push("/post-detail/".concat(e))},onScroll:function(e){var t=e.target,r=t.scrollTop,n=t.clientHeight,s=t.scrollHeight;r+n>=s&&this.handleLoadMorePost()},handleClickOnLinking:function(e){this.$store.dispatch("openPostLinking",{postId:e})},handleLoadMorePost:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(l["get"])(this.likedPost,"result.page"),r=Object(l["get"])(this.likedPost,"result.lastPage"),n=Object(l["get"])(this.likedPost,"requesting"),!(t<r)||n){e.next=6;break}return e.next=6,this.$store.dispatch("getLikedPost",{page:t+1,userId:Object(l["get"])(this.currentUser,"id")});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),removeLikedPost:function(e){var t=this;this.$modal.show("confirm-dialog",{title:"Before remove",content:"Are you want to remove it from bookmark list?",pressYes:function(){t.handleUnlikePost(e)},pressNo:function(){t.$modal.hide("confirm-dialog")}})},handleUnlikePost:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$store.dispatch("toogleLikePost",{postId:t,hasLiked:!0}),this.$modal.hide("confirm-dialog");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},Ie=Ue,De=(r("fffa"),Object(y["a"])(Ie,ke,Se,!1,null,"7a67167c",null)),Le=De.exports,Te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row my-5"},[r("div",{staticClass:"col col-md-8 mx-auto"},[r("ValidationObserver",{ref:"postEditorValidation",scopedSlots:e._u([{key:"default",fn:function(t){t.invalid;return[r("drop-file-input",{attrs:{file:e.image},on:{onRemove:function(t){e.image=null},onChange:function(t){return e.image=t}}}),r("TextField",{staticClass:"mt-3",attrs:{name:"Title",type:"text",rules:"required|min:10|max:200"},model:{value:e.postForm.title,callback:function(t){e.$set(e.postForm,"title",t)},expression:"postForm.title"}}),r("div",{staticClass:"form-group"},[r("label",{staticClass:"text-secondary"},[e._v("Category")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.postForm.categoryId,expression:"postForm.categoryId"}],staticClass:"custom-select rounded-form",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.postForm,"categoryId",t.target.multiple?r:r[0])}}},e._l(e.categories,(function(t){return r("option",{key:e._.get(t,"id"),domProps:{value:e._.get(t,"id")}},[e._v("\n              "+e._s(e._.get(t,"name"))+"\n            ")])})),0)]),r("text-area",{attrs:{name:"Your feelings",rows:"6",rules:"max:1000"},model:{value:e.postForm.description,callback:function(t){e.$set(e.postForm,"description",t)},expression:"postForm.description"}}),r("text-area",{attrs:{name:"Linking",rows:"3",rules:"required"},model:{value:e.postForm.link,callback:function(t){e.$set(e.postForm,"link",t)},expression:"postForm.link"}}),r("TextField",{staticClass:"mt-3",attrs:{name:"Hashtags",type:"text",placeholder:"Mutiple hashtags separate by comma ',' ",rules:"required|min:5|max:100"},model:{value:e.postForm.hashtags,callback:function(t){e.$set(e.postForm,"hashtags",t)},expression:"postForm.hashtags"}}),r("button",{staticClass:"btn mt-5 btn-block btn-outline-secondary rounded-button",attrs:{disabled:e.isRequesting},on:{click:e.handleSavePost}},[e.isRequesting?r("div",{staticClass:"spinner-grow"}):r("span",[e._v("\n            Save\n          ")])])]}}])})],1)])])},Fe=[],Ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"$attrs.class"},[r("ValidationProvider",{attrs:{vid:e.vid,name:e.name,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;t.touched,t.changed,t.validated;return[r("div",{staticClass:"form-group"},[e.hiddenLabel?e._e():r("label",{staticClass:"text-secondary"},[e._v(e._s(e.name))]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],staticClass:"form-control rounded-form",attrs:{placeholder:e.$attrs.placeholder||"Enter "+e.name.toLowerCase()+" here...",type:e.$attrs.type,rows:e.$attrs.rows},domProps:{value:e.innerValue},on:{input:function(t){t.target.composing||(e.innerValue=t.target.value)}}}),e._t("description"),n[0]?r("span",{staticClass:"form-text text-danger small"},[e._v("\n        "+e._s(n[0])+"\n      ")]):e._e()],2)]}}],null,!0)})],1)},qe=[],$e={name:"TextArea",props:{vid:{type:String},value:{type:null},hiddenLabel:{type:Boolean,default:!1},rules:{type:[Object,String],default:""},name:{type:String,required:!0}},data:function(){return{innerValue:""}},watch:{innerValue:function(e){this.$emit("input",e)},value:function(e){this.innerValue=e}},created:function(){this.value&&(this.innerValue=this.value)}},Me=$e,Ne=(r("de70"),Object(y["a"])(Me,Ae,qe,!1,null,"deaa70f2",null)),Ve=Ne.exports;function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Be={data:function(){return{image:null,postForm:{title:null,description:null,link:null,hashtags:null,categoryId:Object(l["get"])(this.categories,"[0].id",1)}}},components:{DropFileInput:W,TextField:N,TextArea:Ve},computed:ze({},Object(i["c"])({isRequesting:function(e){return Object(l["get"])(e,"post.postSaving.requesting")},postSaving:function(e){return Object(l["get"])(e,"post.postSaving")}}),{},Object(i["b"])({categories:"categories"})),methods:{handleSavePost:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("savePost",{postForm:ze({},this.postForm,{hashtags:this.postForm.hashtags.split(",").map((function(e){return e.trim()}))}),media:this.image});case 2:t=Object(l["get"])(this.postSaving,"status"),this.$toast[t]("Save ".concat(t,"!")),"success"===t&&this.$router.push("/post");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},He=Be,We=(r("0b4e"),Object(y["a"])(He,Te,Fe,!1,null,"94dbfe80",null)),Ye=We.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid message-content-container p-0"},[n("div",{staticClass:"row h-100 no-gutters"},[n("div",{staticClass:"col-4 d-flex flex-column"},[n("div",{staticClass:"position-relative px-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userSearch,expression:"userSearch"}],staticClass:"form-control mt-2 rounded-form",attrs:{type:"text"},domProps:{value:e.userSearch},on:{input:[function(t){t.target.composing||(e.userSearch=t.target.value)},e.debounceSearchUser]}}),e.userSearch?n("div",{staticClass:"search-result"},[e.searchingUsers.length>0?n("div",e._l(e.searchingUsers,(function(t){return n("div",{key:t.id,staticClass:"d-flex flex-row align-items-center mt-1",on:{click:function(r){return e.handleChooseUser(t)}}},[n("img",{staticClass:"user-avatar",attrs:{src:e._.get(t,"profile.avatarUrl")||r("889b")}}),n("span",{staticClass:"h5 m-0 ml-2 text-secondary"},[e._v(e._s(e._.get(t,"username")))])])})),0):n("div",[n("span",{staticClass:"lead text-secondary"},[e._v("No result")])])]):e._e()]),e.selectedUser?n("div",{staticClass:"mt-2 p-2 border-bottom",class:{"bg-selected":e.isNewConversation},on:{click:function(t){return e.handleChooseUser(e.selectedUser)}}},[n("div",{staticClass:"d-flex flex-row align-items-center mt-1"},[n("img",{staticClass:"conversation-img",attrs:{src:e._.get(e.selectedUser,"profile.avatarUrl")||r("889b")}}),n("span",{staticClass:"h5 m-0 ml-2 text-secondary"},[e._v(e._s(e._.get(e.selectedUser,"username")))])])]):e._e(),n("div",{staticClass:"mt-3 scroll-container"},e._l(e.conversations,(function(t){return n("div",{key:e._.get(t,"id"),staticClass:"d-flex flex-row align-items-center mt-1 p-2",class:{"bg-selected":e._.get(e.selectedConversation,"id")===t.id&&!e.isNewConversation},on:{click:function(r){return e.onChooseConversation(t)}}},[n("div",[e._.get(t,"users[0].profile.avatarUrl")?n("img",{staticClass:"conversation-img",attrs:{src:e._.get(t,"users[0].profile.avatarUrl")}}):n("div",{staticClass:"conversation-img-alt d-flex justify-content-center align-items-center"},[n("span",{staticClass:"text-light h3 m-0"},[e._v("\n                "+e._s(e.avatarAlternative(e._.get(t,"users[0].username")))+"\n              ")])])]),n("div",{staticClass:"ml-2"},[n("span",{staticClass:"text-secondary font-weight-bold d-block"},[e._v("\n              "+e._s(e._.get(t,"users[0].username")))]),n("span",{staticClass:"d-block overflow-hidden",staticStyle:{height:"20px"}},[e._v("\n              "+e._s(e._.get(t,"lastMessage.user.id")===e._.get(e.currentUser,"id")?"You":e._.get(t,"lastMessage.user.username"))+":"+e._s(e._.get(t,"lastMessage.content"))+"\n            ")]),n("span",{staticClass:"small"},[e._v(e._s(e.moment(e._.get(t,"lastMessage.createdAt")).fromNow()))])])])})),0)]),n("div",{staticClass:"col-8 d-flex flex-column border-left px-2"},[n("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll",value:{always:!1,smooth:!0,scrollonremoved:!0,smoothonremoved:!1},expression:"{\n          always: false,\n          smooth: true,\n          scrollonremoved: true,\n          smoothonremoved: false,\n        }"}],staticClass:"scroll-container",on:{scroll:e.handleLoadmoreMessage}},[n("div",{staticClass:"row pb-5"},[e._.get(e.messageState,"requesting",!1)?n("div",{staticClass:"col-12 text-center"},[n("div",{staticClass:"spinner-grow mt-3"})]):e._e(),e._l(e.messages,(function(t,r){return n("div",{key:r,staticClass:"col-10 d-flex flex-row align-items-center message-container",class:{"ml-auto":e.isCurrentUserMessage(t)}},[e.isCurrentUserMessage(t)?e._e():n("div",{staticClass:"d-inline mes-avatar-container mr-1"},[t.userId!==e._.get(e.messages,[r+1]+".userId")?[e._.get(t,"avatarUrl")?n("img",{staticClass:"mes-avatar",attrs:{src:e._.get(t,"avatarUrl")}}):n("div",{staticClass:"avatar-alt d-flex justify-content-center align-items-center"},[n("span",{staticClass:"text-light"},[e._v(e._s(e.avatarAlternative(e._.get(t,"username",""))))])])]:e._e()],2),n("div",{staticClass:"flex-fill d-flex",class:{"justify-content-end":e.isCurrentUserMessage(t)}},[n("span",{staticClass:"bg-primary text-light px-3 py-1 left-message-content",class:{"first-left-message-content":e.isFirstLeftMessage(t,r),"last-left-message-content":e.isLastLeftMessage(t,r),"right-message-content":e.isCurrentUserMessage(t),"first-right-message-content":e.isFirstRightMessage(t,r),"last-right-message-content":e.isLastRightMessage(t,r),"single-message-content":e.isSingleMessage(t,r)}},[e._v("\n                "+e._s(e._.get(t,"message"))+"\n              ")])])])}))],2)]),n("div",{staticClass:"d-flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"form-control mb-2",attrs:{type:"text"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),n("button",{staticClass:"btn btn-outline-info mb-2 ml-2",on:{click:e.sendMessage}},[e._v("send")])])])])])},Ke=[],Je=r("c1df"),Xe=r.n(Je),Ze=r("1ba4"),et=r.n(Ze),tt=et()("ws://adonis-vuejs-post.herokuapp.com");tt.connect();var rt=!1;tt.on("open",(function(){rt=!0,console.log("on open",rt)})),tt.on("close",(function(){rt=!1,console.log("on close",rt)}));var nt=tt,st=(r("55dd"),function(e,t){var r=[e,t];return"chat:".concat(r.sort().join("-"))});function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ot={data:function(){return{conversationListener:null,chat:null,message:"",topic:null,userSearch:"",selectedUser:null,debounceSearchUser:Object(l["debounce"])(this.handleSearchUser,500),selectedConversation:null,isNewConversation:!1}},computed:it({},Object(i["c"])({messageState:function(e){return Object(l["get"])(e,"chat.message")}}),{},Object(i["b"])({currentUser:"currentUser",profile:"userProfile",messages:"messages",conversations:"conversations",searchingUsers:"searchingUsers",existConversation:"existConversation"})),mounted:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.subscribeConversations(),e.next=3,this.$store.dispatch("getUserConversation",{page:1});case 3:if(!(this.conversations.length>0)){e.next=9;break}return t=Object(l["first"])(this.conversations),this.selectedConversation=t,e.next=8,this.$store.dispatch("getMessageByConversation",{page:1,conversationId:Object(l["get"])(t,"id")});case 8:this.subscribeTopic(t);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){this.chat.close()},methods:{sendMessage:function(){""!==this.message.trim()&&(this.chat.emit("message",{message:this.message,userId:this.currentUser.id}),this.$store.dispatch("sendMessage",{message:this.message,userId:this.currentUser.id,createdAt:Xe()().format(),avatarUrl:Object(l["get"])(this.profile,"avatarUrl"),username:this.currentUser.username}),this.message="")},onReceiveMessage:function(e){this.$store.dispatch("receiveMessage",e)},handleChooseUser:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isNewConversation=!0,this.userSearch="",r=st(this.currentUser.id,t.id),e.next=5,this.$store.dispatch("findExistConversation",r);case 5:if(this.selectedUser=t,this.subscribeTopic({topic:r}),0!==this.existConversation.length){e.next=11;break}this.$store.dispatch("clearMessages"),e.next=13;break;case 11:return e.next=13,this.$store.dispatch("getMessageByConversation",{page:1,conversationId:Object(l["get"])(this.existConversation,"[0].id")});case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onChooseConversation:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isNewConversation=!1,Object(l["get"])(this.selectedConversation,"id")===t.id){e.next=6;break}return this.selectedConversation=t,e.next=5,this.$store.dispatch("getMessageByConversation",{page:1,conversationId:Object(l["get"])(t,"id")});case 5:this.subscribeTopic(t);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleLoadmoreMessage:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.target.scrollTop,!(r<=0)){e.next=11;break}if(n=Object(l["get"])(this.messageState,"requesting"),s=Object(l["get"])(this.messageState,"result.lastPage"),a=Object(l["get"])(this.messageState,"result.page"),i=Object(l["get"])(this.messageState,"result.conversationId"),o=Object(l["get"])(this.messageState,"result.lastMessageId"),!(n||a>=s)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,this.$store.dispatch("getMessageByConversation",{page:a+1,conversationId:i,lastMessageId:o});case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),subscribeConversations:function(){this.conversationListener=nt.subscribe("conversation:".concat(this.currentUser.id)),this.conversationListener.on("ready",(function(){console.log("ready conversationListener")})),this.conversationListener.on("error",(function(e){console.log("error conversationListener",e)})),this.conversationListener.on("close",(function(){console.log("closed conversationListener")})),this.conversationListener.on("message",this.onReceiveConversationUpdate)},subscribeTopic:function(e){this.topic=Object(l["get"])(e,"topic");var t=nt.getSubscription(this.topic);t?this.chat=t:(this.chat&&this.chat.close(),this.chat=nt.subscribe(this.topic)),this.chat.on("ready",(function(){console.log("ready")})),this.chat.on("error",(function(e){console.log("error chat",e)})),this.chat.on("close",(function(){console.log("closed")})),this.chat.on("message",this.onReceiveMessage)},onReceiveConversationUpdate:function(e){this.$store.dispatch("receiveConversationUpdate",e);var t=Object(l["get"])(e,"users[0].id"),r=Object(l["get"])(e,"lastMessage.user.id");r===this.currentUser.id&&t===Object(l["get"])(this.selectedUser,"id")&&(this.selectedUser=null,this.isNewConversation=!1,this.selectedConversation=e)},avatarAlternative:function(e){return e.split(" ").map((function(e){return e[0]})).join("").toUpperCase()},isCurrentUserMessage:function(e){return e.userId===Object(l["get"])(this.currentUser,"id")},isFirstLeftMessage:function(e,t){return e.userId!==Object(l["get"])(this.messages,"".concat([t-1],".userId"))&&e.userId===Object(l["get"])(this.messages,"".concat([t+1],".userId"))},isLastLeftMessage:function(e,t){return e.userId!==Object(l["get"])(this.messages,"".concat([t+1],".userId"))&&e.userId===Object(l["get"])(this.messages,"".concat([t-1],".userId"))},isFirstRightMessage:function(e,t){return this.isFirstLeftMessage(e,t)&&this.isCurrentUserMessage(e)},isLastRightMessage:function(e,t){return this.isLastLeftMessage(e,t)&&this.isCurrentUserMessage(e)},isSingleMessage:function(e,t){return e.userId!==Object(l["get"])(this.messages,"".concat([t+1],".userId"))&&e.userId!==Object(l["get"])(this.messages,"".concat([t-1],".userId"))},handleSearchUser:function(){this.$store.dispatch("searchUserByName",{q:this.userSearch})}}},ct=ot,ut=(r("6301"),Object(y["a"])(ct,Qe,Ke,!1,null,"27a616a8",null)),lt=ut.exports,dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{},[e.isModal?r("modal",{attrs:{name:"post-detail-modal",height:"auto",width:"1150px",draggable:!0,transition:"nice-modal-fade",delay:100,classes:"bg-transparent px-5",clickToClose:!1}},[r("PostDetailComponent",{attrs:{isModal:e.isModal,postDetail:e.postDetail,isLoading:e.isLoading},on:{onCloseModal:e.goBack,onToogleLikePost:function(t){e.toogleLikePost({postId:e._.get(e.postDetail,"id"),hasLiked:!!parseInt(e._.get(e.postDetail,"__meta__.isUserLiked"),10)})},onChooseCategory:e.handleChooseCategory,onChooseHashtag:e.handleChooseHashtag,onOpenLinking:function(t){return e.handleClickOnLinking(e.postDetail.id)}}})],1):r("div",{staticClass:"px-3 bg-light"},[r("PostDetailComponent",{attrs:{isModal:e.isModal,postDetail:e.postDetail,isLoading:e.isLoading},on:{onToogleLikePost:function(t){e.toogleLikePost({postId:e._.get(e.postDetail,"id"),hasLiked:!!parseInt(e._.get(e.postDetail,"__meta__.isUserLiked"),10)})},onChooseCategory:e.handleChooseCategory,onChooseHashtag:e.handleChooseHashtag,onOpenLinking:function(t){return e.handleClickOnLinking(e.postDetail.id)}}})],1)],1)},pt=[],gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isModal?n("i",{staticClass:"fa fa-3x fa-times-circle post-detail-close type-button",on:{click:function(t){return e.$emit("onCloseModal")}}}):e._e(),n("div",{staticClass:"bg-light p-3 my-2  position-relative",class:{"post-detail-container":e.isModal}},[n("div",{staticClass:"mb-5"},[n("div",{staticClass:"text-center img-container position-relative"},[e.isImageLoaded?e._e():n("div",{staticClass:"img-place-holder d-flex justify-content-center align-items-center"},[n("div",{staticClass:"spinner-grow  text-secondary"})]),n("img",{staticClass:"img-fluid post-detail-image",attrs:{src:e._.get(e.postDetail,"media[0].source")},on:{load:function(t){e.isImageLoaded=!0}}}),n("button",{staticClass:"btn btn-link btn-save",on:{click:function(t){return e.$emit("onToogleLikePost")}}},[n("i",{staticClass:"fa fa-2x fa-heart",class:{"text-danger":!!parseInt(e._.get(e.postDetail,"__meta__.isUserLiked"),10),"text-secondary":!parseInt(e._.get(e.postDetail,"__meta__.isUserLiked"),10)}})])]),n("div",{staticClass:"d-flex justify-content-between rounded shadow-lg mx-5 post-user-info"},[n("div",{staticClass:"d-flex text-secondary px-3 py-2"},[n("img",{staticClass:"rounded-circle shadow border border-light m-1",staticStyle:{"object-fit":"cover"},attrs:{src:e._.get(e.postDetail,"user.profile.avatarUrl")||r("889b"),height:"80px",width:"80px"}}),n("div",{staticClass:"mt-1 ml-2"},[n("span",{staticClass:"font-weight-bold d-block"},[e._v(e._s(e._.get(e.postDetail,"user.username")))]),n("span",{staticClass:"small font-weight-bold type-button",on:{click:function(t){e.$emit("onChooseCategory",e._.get(e.postDetail,"category"))}}},[e._v("In:\n              "),n("span",{staticClass:"text-info"},[e._v("\n                "+e._s(e._.get(e.postDetail,"category.name"))+"\n              ")])]),n("span",{staticClass:"small d-block"},[e._v(e._s(e.moment(e._.get(e.postDetail,"createdAt")).format("YYYY-MM-DD HH:mm")))])])])])]),n("span",{staticClass:"font-weight-bold d-block text-secondary lead"},[e._v("\n      "+e._s(e._.get(e.postDetail,"title"))+"\n    ")]),n("div",{staticClass:"d-flex flex-row justify-content-between"},[n("div",e._l(e._.get(e.postDetail,"hashtags",[]),(function(t,r){return n("span",{key:e._.get(t,"id"),staticClass:"badge badge-pill badge-secondary type-button hashtag",class:{"ml-2":r>0},on:{click:function(r){return e.$emit("onChooseHashtag",t)}}},[e._v("\n          "+e._s(e._.get(t,"tag"))+"\n        ")])})),0),n("div",[n("span",[e._v(e._s(e._.get(e.postDetail,"__meta__.totalLikeds",0))+" "),n("i",{staticClass:"fa fa-heart mr-3"})]),n("span",[e._v(e._s(e._.get(e.postDetail,"view",0))+" "),n("i",{staticClass:"fa fa-eye"})])])]),n("p",{staticClass:"lead text-justify"},[e._v("\n      "+e._s(e._.get(e.postDetail,"description"))+"\n    ")]),e.isLoading?e._e():n("a",{staticClass:"btn btn-block btn-info text-light",attrs:{href:""+e._.get(e.postDetail,"link"),target:"_blank"},on:{click:function(t){return e.$emit("onOpenLinking")},mouseup:function(t){return"button"in t&&1!==t.button?null:e.$emit("onOpenLinking")}}},[e._v("\n      GO TO ORIGIN THREAD\n    ")])])])},ft=[],mt={props:{postDetail:Object,isModal:Boolean,isLoading:Boolean},data:function(){return{isImageLoaded:!1}}},bt=mt,ht=(r("b722"),Object(y["a"])(bt,gt,ft,!1,null,"52b8e10e",null)),vt=ht.exports;function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var yt={data:function(){return{isModal:!1}},components:{PostDetailComponent:vt},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isModal=Object(l["get"])(this.$route,"query.isModal",!1),t=parseInt(Object(l["get"])(this.$route,"params.id"),10),this.$store.dispatch("getPostDetail",t);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){this.$modal.show("post-detail-modal")},computed:jt({},Object(i["b"])({postDetail:"postDetail"}),{},Object(i["c"])({isLoading:function(e){return Object(l["get"])(e,"post.postDetail.requesting")}})),methods:{handleClickOnLinking:function(e){this.$store.dispatch("openPostLinking",{postId:e})},goBack:function(){this.$modal.hide("post-detail-modal"),this.$router.go(-1)},handleChooseHashtag:function(e){this.isModal&&this.$modal.hide("post-detail-modal"),this.$store.dispatch("changeHashtagParam",e),this.$router.push("/")},handleChooseCategory:function(e){this.isModal&&this.$modal.hide("post-detail-modal"),this.$store.dispatch("changeCategoryParam",e),this.$router.push("/")},toogleLikePost:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("toogleLikePost",t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},wt=yt,_t=(r("1735"),Object(y["a"])(wt,dt,pt,!1,null,"b54e8ddc",null)),Ct=_t.exports,xt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Pt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex justify-content-center align-items-center vh-100"},[r("span",{staticClass:"display-1 font-italic text-secondary"},[e._v("\n    (404) Page Not Found\n  ")])])}],kt={},St=Object(y["a"])(kt,xt,Pt,!1,null,null,null),Et=St.exports;a["default"].use(f["a"]);var Rt=!1;window.addEventListener("popstate",(function(){Rt=!0}));var Ut=new f["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:D,meta:{isShowPostDetailInModal:!0}},{path:"/profile",name:"profile",component:Z},{path:"/post",name:"post",component:Pe,meta:{isShowPostDetailInModal:!0}},{path:"/post/liked",name:"post-liked",component:Le,meta:{isShowPostDetailInModal:!0}},{path:"/post-detail/:id",name:"post-detail",beforeEnter:function(e,t,r){var n=t.matched.some((function(e){return Object(l["get"])(e,"meta.isShowPostDetailInModal")}));if(!n||Rt)Object(l["set"])(e,"matched[0].components",{default:Ct,modal:!1}),Object(l["set"])(e,"query.isModal",!1);else{if(t.matched.length>1){var s=t.matched.slice(1,t.matched.length);Object(l["set"])(e,"matched",[].concat(Object(g["a"])(Object(l["get"])(e,"matched")),Object(g["a"])(s)))}if(e.matched[0].components){var a=Object(l["get"])(t,"matched[0].components.default");Object(l["set"])(e,"matched[0].components.default",a),Object(l["set"])(e,"matched[0].components.globalModal",Ct)}Object(l["set"])(e,"query.isModal",!0)}r()}},{path:"/post/post-edit",name:"post-edit",component:Ye},{path:"/message",name:"message",component:lt},{path:"/login",name:"login",component:ce,meta:{public:!0,onlyWhenLoggedOut:!0}},{path:"/forget-password",name:"forget-password",component:ve,meta:{public:!0,onlyWhenLoggedOut:!0}},{path:"*",name:"Not Found",component:Et}]});Ut.beforeEach((function(e,t,r){var n=Object(l["get"])(Bn,"state.user.signIn.result.token"),s=e.matched.some((function(e){return e.meta.public})),a=e.matched.some((function(e){return e.meta.onlyWhenLoggedOut}));return s||n?n&&a?r("/"):r():r({path:"/login",query:{redirect:e.fullPath}})})),Ut.afterEach((function(){Rt=!1}));var It=Ut,Dt=r("d225"),Lt=r("b0b4"),Tt={request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.a.request(e)},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.a.get(e,t)},post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.a.post(e,t,r)},put:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.a.put(e,t,r)},patch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.a.patch(e,t,r)},delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.a.delete(e,t)}},Ft=Tt;function At(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?At(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):At(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $t,Mt=function(){function e(){Object(Dt["a"])(this,e)}return Object(Lt["a"])(e,null,[{key:"registerAccount",value:function(e,t){return Ft.post("/users/create",e,t)}},{key:"signIn",value:function(e,t){return Ft.post("/users/sign-in",e,t)}},{key:"resendVerifyAccountEmail",value:function(e,t){return Ft.post("/users/resend-account-activation-email",e,t)}},{key:"sendPasswordResetCode",value:function(e,t){return Ft.post("/users/send-password-reset-code",e,t)}},{key:"verifyPasswordResetCode",value:function(e,t){return Ft.post("users/verify-password-reset-code",e,t)}},{key:"resetPassword",value:function(e,t){return Ft.post("users/reset-password",e,t)}},{key:"changePassword",value:function(e,t){return Ft.post("/users/change-password",e,t)}},{key:"loginWithSocial",value:function(e,t){return Ft.post("/users/login-with-social",e,t)}},{key:"signOut",value:function(e){return Ft.get("/users/sign-out",e)}},{key:"getUserProfile",value:function(e,t){return Ft.get("/users/profile/".concat(e),t)}},{key:"setUserProfile",value:function(e,t){return Ft.post("/users/set-user-profile",e,t)}},{key:"setUserAvatar",value:function(e,t){return Ft.post("/users/set-user-avatar",e,t)}},{key:"searchUserByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ft.get("/users/find-user-by-name",qt({},t,{params:e}))}}]),e}(),Nt=(r("7f7f"),r("4627")),Vt=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r,n,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{maxSizeMB:2,maxWidthOrHeight:1500,useWebWorker:!0},e.prev=1,e.next=4,Object(Nt["a"])(t,r);case 4:return n=e.sent,e.abrupt("return",new File([n],t.name,{type:t.type}));case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Gt="REGISTER_ACCOUNT_REQUEST",zt="REGISTER_ACCOUNT_SUCCESS",Bt="REGISTER_ACCOUNT_FAIL",Ht="SIGN_IN_REQUEST",Wt="SIGN_IN_SUCCESS",Yt="SIGN_IN_FAIL",Qt="CHANGE_PASSWORD_REQUEST",Kt="CHANGE_PASSWORD_SUCCESS",Jt="CHANGE_PASSWORD_FAIL",Xt="LOGIN_WITH_SOCIAL_REQUEST",Zt="LOGIN_WITH_SOCIAL_SUCCESS",er="LOGIN_WITH_SOCIAL_FAIL",tr="GET_USER_PROFILE_REQUEST",rr="GET_USER_PROFILE_SUCCESS",nr="GET_USER_PROFILE_FAIL",sr="UPDATE_PROFILE_REQUEST",ar="UPDATE_PROFILE_SUCCESS",ir="UPDATE_PROFILE_FAIL",or="UPDATE_AVARTA_REQUEST",cr="UPDATE_AVARTA_SUCCESS",ur="UPDATE_AVARTA_FAIL",lr="SIGN_OUT",dr="SET_TOKEN_TO_REQUEST_HEADER",pr="GET_CATEGORIES_REQUEST",gr="GET_CATEGORIES_SUCCESS",fr="GET_CATEGORIES_FAIL",mr="SAVE_POST_REQUEST",br="SAVE_POST_SUCCESS",hr="SAVE_POST_FAIL",vr="GET_MY_POST_REQUEST",Or="GET_MY_POST_SUCCESS",jr="GET_MY_POST_FAIL",yr="DELETE_POST_REQUEST",wr="DELETE_POST_SUCCESS",_r="DELETE_POST_FAIL",Cr="GET_POSTS_REQUEST",xr="GET_POSTS_SUCCESS",Pr="GET_POSTS_FAIL",kr="GET_POST_DETAIL_REQUEST",Sr="GET_POST_DETAIL_SUCCESS",Er="GET_POST_DETAIL_FAIL",Rr="TOOGLE_LIKE_POST_REQUEST",Ur="TOOGLE_LIKE_POST_SUCCESS",Ir="TOOGLE_LIKE_POST_FAIL",Dr="RESEND_VERIFY_ACCOUNT_EMAIL_REQUEST",Lr="RESEND_VERIFY_ACCOUNT_EMAIL_SUCCESS",Tr="RESEND_VERIFY_ACCOUNT_EMAIL_FAIL",Fr="OPEN_POST_LINKING_REQUEST",Ar="OPEN_POST_LINKING_SUCCESS",qr="OPEN_POST_LINKING_FAIL",$r="SEND_PASSWORD_RESET_CODE_REQUEST",Mr="SEND_PASSWORD_RESET_CODE_SUCCESS",Nr="SEND_PASSWORD_RESET_CODE_FAIL",Vr="VERIFY_PASSWORD_RESET_CODE_REQUEST",Gr="VERIFY_PASSWORD_RESET_CODE_SUCCESS",zr="VERIFY_PASSWORD_RESET_CODE_FAIL",Br="RESET_PASSWORD_REQUEST",Hr="RESET_PASSWORD_SUCCESS",Wr="RESET_PASSWORD_FAIL",Yr="GET_LIKED_POST_REQUEST",Qr="GET_LIKED_POST_SUCCESS",Kr="GET_LIKED_POST_FAIL",Jr="CHANGE_HASHTAG_PARAM",Xr="CHANGE_CATEGORY_PARAM",Zr="GET_MESSAGE_REQUEST",en="GET_MESSAGE_SUCCESS",tn="GET_MESSAGE_FAIL",rn="SEND_MESSAGE",nn="RECEIVE_MESSAGE",sn="RECEIVE_CONVERSATION_UPDATE",an="GET_USER_CONVERSATION_REQUEST",on="GET_USER_CONVERSATION_SUCCESS",cn="GET_USER_CONVERSATION_FAIL",un="SEARCH_USER_BY_NAME_REQUEST",ln="SEARCH_USER_BY_NAME_SUCCESS",dn="SEARCH_USER_BY_NAME_FAIL",pn="FIND_EXIST_COVERSATION_REQUEST",gn="FIND_EXIST_COVERSATION_SUCCESS",fn="FIND_EXIST_COVERSATION_FAIL",mn="CLEAR_MESSAGES";function bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bn(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var vn={signUp:{requesting:!1,status:"",result:null,error:null},signIn:{requesting:!1,status:"",result:{},error:null},signOut:{requesting:!1,status:"",result:{},error:null},profile:{requesting:!1,status:"",result:{},error:null},avatarUpdating:{requesting:!1,status:"",result:{},error:null},passwordUpdating:{requesting:!1,status:"",result:{},error:null},verifyEmail:{requesting:!1,status:"",result:{},error:null},passwordResetCodeSending:{requesting:!1,status:"",result:{},error:null},passwordResetCodeVerifying:{requesting:!1,status:"",result:{},error:null},passwordResetting:{requesting:!1,status:"",result:{},error:null},userSearching:{requesting:!1,status:"",result:null,error:null}},On={signUp:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(Gt),e.prev=2,e.next=5,Mt.registerAccount(r);case 5:s=e.sent,a=s.data,n(zt,{data:a}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),n(Bt,{error:Object(p["serializeError"])(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),resendVerifyAccountEmail:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(Dr),e.prev=2,e.next=5,Mt.resendVerifyAccountEmail(r);case 5:s=e.sent,a=s.data,n(Lr,{data:a}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),n(Tr,{error:Object(p["serializeError"])(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),loginWithSocial:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(Xt),e.prev=2,e.next=5,Mt.loginWithSocial(r);case 5:s=e.sent,a=s.data,console.log("data",a),Object(l["get"])(a,"token")&&(i=r.loginSource,n(Zt,{data:hn({},a,{loginSource:i})}),n(dr,{data:a}),It.push(Object(l["get"])(It,"history.current.query.redirect","/"))),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),n(er,{error:Object(p["serializeError"])(e.t0)});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));function t(t,r){return e.apply(this,arguments)}return t}(),signIn:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(Ht),e.prev=2,e.next=5,Mt.signIn(r);case 5:s=e.sent,a=s.data,Object(l["get"])(a,"token")&&(n(Wt,{data:a}),n(dr,{data:a}),It.push(Object(l["get"])(It,"history.current.query.redirect","/"))),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),n(Yt,{error:Object(p["serializeError"])(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),changePassword:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(Qt),e.prev=2,e.next=5,Mt.changePassword(r);case 5:s=e.sent,a=s.data,n(Kt,{data:a}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),n(Jt,{error:Object(p["serializeError"])(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),getUserProfile:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(tr),e.prev=2,e.next=5,Mt.getUserProfile(r);case 5:s=e.sent,a=s.data,n(rr,{data:a}),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),console.log(Object(p["serializeError"])(e.t0)),n(nr,{error:Object(p["serializeError"])(e.t0)});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),updateProfile:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(sr),e.prev=2,e.next=5,Mt.setUserProfile(r);case 5:s=e.sent,a=s.data,n(ar,{data:a}),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),console.log(Object(p["serializeError"])(e.t0)),n(ir,{error:Object(p["serializeError"])(e.t0)});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),updateAvatar:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(or),e.prev=2,s=new FormData,e.next=6,Vt(r);case 6:return a=e.sent,s.append("avatar",a),e.next=10,Mt.setUserAvatar(s);case 10:i=e.sent,o=i.data,n(cr,{data:o}),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](2),console.log(Object(p["serializeError"])(e.t0)),n(ur,{error:Object(p["serializeError"])(e.t0)});case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));function t(t,r){return e.apply(this,arguments)}return t}(),sendPasswordResetCode:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n($r),e.prev=2,e.next=5,Mt.sendPasswordResetCode(r);case 5:s=e.sent,a=s.data,n(Mr,{data:a}),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),console.log(Object(p["serializeError"])(e.t0)),n(Nr,{error:Object(p["serializeError"])(e.t0)});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),verifyPasswordResetCode:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(Vr),e.prev=2,e.next=5,Mt.verifyPasswordResetCode(r);case 5:s=e.sent,a=s.data,n(Gr,{data:a}),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),console.log(Object(p["serializeError"])(e.t0)),n(zr,{error:Object(p["serializeError"])(e.t0)});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),resetPassword:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(Br),e.prev=2,e.next=5,Mt.resetPassword(r);case 5:s=e.sent,a=s.data,n(Hr,{data:a}),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),console.log(Object(p["serializeError"])(e.t0)),n(Wr,{error:Object(p["serializeError"])(e.t0)});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),searchUserByName:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(un),e.prev=2,e.next=5,Mt.searchUserByName(r);case 5:s=e.sent,a=s.data,n(ln,{data:a}),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),console.log(Object(p["serializeError"])(e.t0)),n(dn,{error:Object(p["serializeError"])(e.t0)});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),signOut:function(e){var t=e.commit;t(lr),It.go("/login")}},jn=($t={},Object(c["a"])($t,Gt,(function(e){e.signUp.requesting=!0,e.signUp.status=""})),Object(c["a"])($t,zt,(function(e,t){e.signUp.requesting=!1,e.signUp.status="success",e.signUp.result=t.data,e.signIn.result=hn({},e.signIn.result,{},t.data)})),Object(c["a"])($t,Bt,(function(e,t){e.signUp.requesting=!1,e.signUp.status="error",e.signUp.error=t.error})),Object(c["a"])($t,Ht,(function(e){e.signIn.requesting=!0,e.signIn.status=""})),Object(c["a"])($t,Wt,(function(e,t){e.signIn.requesting=!1,e.signIn.status="success",e.signIn.result=t.data})),Object(c["a"])($t,Yt,(function(e,t){e.signIn.requesting=!1,e.signIn.status="error",e.signIn.error=t.error})),Object(c["a"])($t,Dr,(function(e){e.verifyEmail.requesting=!0,e.verifyEmail.status=""})),Object(c["a"])($t,Lr,(function(e,t){e.verifyEmail.requesting=!1,e.verifyEmail.status="success",e.verifyEmail.result=t.data})),Object(c["a"])($t,Tr,(function(e,t){e.verifyEmail.requesting=!1,e.verifyEmail.status="error",e.verifyEmail.error=t.error})),Object(c["a"])($t,Qt,(function(e){e.passwordUpdating.requesting=!0,e.passwordUpdating.status=""})),Object(c["a"])($t,Kt,(function(e,t){e.passwordUpdating.requesting=!1,e.passwordUpdating.status="success",e.passwordUpdating.result=t.data})),Object(c["a"])($t,Jt,(function(e,t){e.passwordUpdating.requesting=!1,e.passwordUpdating.status="error",e.passwordUpdating.error=t.error})),Object(c["a"])($t,Xt,(function(e){e.signIn.requesting=!0,e.signIn.status=""})),Object(c["a"])($t,Zt,(function(e,t){e.signIn.requesting=!1,e.signIn.status="success",e.signIn.result=t.data})),Object(c["a"])($t,er,(function(e,t){e.signIn.requesting=!1,e.signIn.status="error",e.signIn.error=t.error})),Object(c["a"])($t,tr,(function(e){e.profile.requesting=!0,e.profile.status=""})),Object(c["a"])($t,rr,(function(e,t){e.profile.requesting=!1,e.profile.status="success",e.profile.result=t.data})),Object(c["a"])($t,nr,(function(e,t){e.profile.requesting=!1,e.profile.status="error",e.profile.error=t.error})),Object(c["a"])($t,sr,(function(e){e.profile.requesting=!0,e.profile.status=""})),Object(c["a"])($t,ar,(function(e,t){e.profile.requesting=!1,e.profile.status="success",e.profile.result=t.data})),Object(c["a"])($t,ir,(function(e,t){e.profile.requesting=!1,e.profile.status="error",e.profile.error=t.error})),Object(c["a"])($t,or,(function(e){e.avatarUpdating.requesting=!0,e.avatarUpdating.status=""})),Object(c["a"])($t,cr,(function(e,t){e.avatarUpdating.requesting=!1,e.avatarUpdating.status="success",e.avatarUpdating.result=t.data,e.profile.result=t.data})),Object(c["a"])($t,ur,(function(e,t){e.avatarUpdating.requesting=!1,e.avatarUpdating.status="error",e.avatarUpdating.error=t.error})),Object(c["a"])($t,$r,(function(e){e.passwordResetCodeSending.requesting=!0,e.passwordResetCodeSending.status=""})),Object(c["a"])($t,Mr,(function(e,t){e.passwordResetCodeSending.requesting=!1,e.passwordResetCodeSending.status="success",e.passwordResetCodeSending.result=t.data})),Object(c["a"])($t,Nr,(function(e,t){e.passwordResetCodeSending.requesting=!1,e.passwordResetCodeSending.status="error",e.passwordResetCodeSending.error=t.error})),Object(c["a"])($t,Vr,(function(e){e.passwordResetCodeVerifying.requesting=!0,e.passwordResetCodeVerifying.status=""})),Object(c["a"])($t,Gr,(function(e,t){e.passwordResetCodeVerifying.requesting=!1,e.passwordResetCodeVerifying.status="success",e.passwordResetCodeVerifying.result=t.data})),Object(c["a"])($t,zr,(function(e,t){e.passwordResetCodeVerifying.requesting=!1,e.passwordResetCodeVerifying.status="error",e.passwordResetCodeVerifying.error=t.error})),Object(c["a"])($t,Br,(function(e){e.passwordResetting.requesting=!0,e.passwordResetting.status=""})),Object(c["a"])($t,Hr,(function(e,t){e.passwordResetting.requesting=!1,e.passwordResetting.status="success",e.passwordResetting.result=t.data})),Object(c["a"])($t,Wr,(function(e,t){e.passwordResetting.requesting=!1,e.passwordResetting.status="error",e.passwordResetting.error=t.error})),Object(c["a"])($t,un,(function(e){e.userSearching.requesting=!0,e.userSearching.status=""})),Object(c["a"])($t,ln,(function(e,t){e.userSearching.requesting=!1,e.userSearching.status="success",e.userSearching.result=t})),Object(c["a"])($t,dn,(function(e,t){e.userSearching.requesting=!1,e.userSearching.status="error",e.userSearching.error=t.error})),Object(c["a"])($t,lr,(function(e){e.signIn.result={}})),Object(c["a"])($t,dr,(function(e,t){var r=Object(l["get"])(t,"data.token"),n=Object(l["get"])(t,"data.type");r&&(s.a.defaults.headers.common.Authorization="".concat(n," ").concat(r))})),$t),yn={currentUser:function(e){return Object(l["get"])(e,"signIn.result")},userProfile:function(e){return Object(l["get"])(e,"profile.result")},searchingUsers:function(e){return Object(l["get"])(e,"userSearching.result.data",[])}},wn={state:vn,actions:On,mutations:jn,getters:yn};function _n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_n(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_n(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xn,Pn=function(){function e(){Object(Dt["a"])(this,e)}return Object(Lt["a"])(e,null,[{key:"getCategories",value:function(e){return Ft.get("/categories",e)}},{key:"savePost",value:function(e,t){return Ft.post("/post/save",e,t)}},{key:"getPosts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ft.get("post/get",Cn({},t,{params:e}))}},{key:"getLikedPosts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ft.get("users/post-liked",Cn({},t,{params:e}))}},{key:"getPostDetail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ft.get("post/get-post-detail/".concat(e),t)}},{key:"getPostByUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ft.get("users/post",Cn({},t,{params:e}))}},{key:"openPostLinking",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ft.patch("post/open-post-linking",e,t)}},{key:"likePost",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ft.post("users/post/like",e,t)}},{key:"deletePost",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ft.delete("post/delete",Cn({},t,{params:e}))}}]),e}();function kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kn(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var En={category:{requesting:!1,status:"",result:null,error:null},postSaving:{requesting:!1,status:"",result:null,error:null},myPost:{requesting:!1,status:"",result:{},error:null},postDeleting:{requesting:!1,status:"",result:null,error:null},publicPost:{requesting:!1,status:"",result:{},error:null},likedPost:{requesting:!1,status:"",result:null,error:null},likePost:{requesting:!1,status:"",result:null,error:null},linkingOpening:{requesting:!1,status:"",result:null,error:null},postDetail:{requesting:!1,status:"",result:null,error:null},postQuery:{hashtag:null,category:null}},Rn={getCategories:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,r(pr),e.prev=2,e.next=5,Pn.getCategories();case 5:n=e.sent,s=Object(l["get"])(n,"data"),r(gr,{data:s}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),r(fr,{error:Object(p["serializeError"])(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t){return e.apply(this,arguments)}return t}(),savePost:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a,i,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(mr),e.prev=2,s=Object(l["get"])(r,"postForm"),a=Object(l["get"])(r,"media"),i=new FormData,e.next=8,Vt(a);case 8:return o=e.sent,i.append("media",o),Object.keys(s).forEach((function(e){var t=s[e];t=Array.isArray(t)?JSON.stringify(t):t,i.append(e,t)})),e.next=13,Pn.savePost(i);case 13:c=e.sent,u=c.data,n(br,{data:u}),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](2),n(hr,{error:Object(p["serializeError"])(e.t0)});case 21:case"end":return e.stop()}}),e,null,[[2,18]])})));function t(t,r){return e.apply(this,arguments)}return t}(),getMyPosts:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(vr),e.prev=2,e.next=5,Pn.getPostByUser(Sn({},r,{limit:k}));case 5:s=e.sent,a=Object(l["get"])(s,"data"),n(Or,a),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),n(jr,{error:Object(p["serializeError"])(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),getLikedPost:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(Yr),e.prev=2,e.next=5,Pn.getLikedPosts(Sn({},r,{limit:k}));case 5:s=e.sent,a=Object(l["get"])(s,"data"),n(Qr,a),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),n(Kr,{error:Object(p["serializeError"])(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),getPosts:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(Cr,r.page),e.prev=2,e.next=5,Pn.getPosts(Sn({},r,{limit:k}));case 5:s=e.sent,a=Object(l["get"])(s,"data"),n(xr,a),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),n(Pr,{error:Object(p["serializeError"])(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),deletePost:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(yr),e.prev=2,e.next=5,Pn.deletePost(r);case 5:s=e.sent,a=Object(l["get"])(s,"data"),n(wr,a),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),n(_r,{error:Object(p["serializeError"])(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),openPostLinking:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(Fr),e.prev=2,s=r.postId,e.next=6,Pn.openPostLinking(r);case 6:n(Ar,s),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),n(qr,{error:Object(p["serializeError"])(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));function t(t,r){return e.apply(this,arguments)}return t}(),toogleLikePost:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(Rr,r),e.prev=2,e.next=5,Pn.likePost(r);case 5:s=e.sent,a=Object(l["get"])(s,"data"),n(Ur,a),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),console.log(Object(p["serializeError"])(e.t0)),n(Ir,Sn({error:Object(p["serializeError"])(e.t0)},r));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),getPostDetail:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(kr),e.prev=2,e.next=5,Pn.getPostDetail(r);case 5:s=e.sent,a=s.data,n(Sr,{data:a}),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),console.log(Object(p["serializeError"])(e.t0)),n(Er,{error:Object(p["serializeError"])(e.t0)});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),changeHashtagParam:function(e,t){var r=e.commit;r(Jr,t)},changeCategoryParam:function(e,t){var r=e.commit;r(Xr,t)}},Un=(xn={},Object(c["a"])(xn,pr,(function(e){e.category.requesting=!0,e.category.status=""})),Object(c["a"])(xn,gr,(function(e,t){e.category.requesting=!1,e.category.status="success",e.category.result=t})),Object(c["a"])(xn,fr,(function(e,t){e.category.requesting=!1,e.category.status="error",e.category.error=t.error})),Object(c["a"])(xn,mr,(function(e){e.postSaving.requesting=!0,e.postSaving.status=""})),Object(c["a"])(xn,br,(function(e,t){e.postSaving.requesting=!1,e.postSaving.status="success",e.postSaving.result=t})),Object(c["a"])(xn,hr,(function(e,t){e.postSaving.requesting=!1,e.postSaving.status="error",e.postSaving.error=t.error})),Object(c["a"])(xn,vr,(function(e){e.myPost.requesting=!0,e.myPost.status=""})),Object(c["a"])(xn,Or,(function(e,t){e.myPost.requesting=!1,e.myPost.status="success",e.myPost.result=1===t.page?t:Sn({},t,{data:[].concat(Object(g["a"])(Object(l["get"])(e,"myPost.result.data",[])),Object(g["a"])(Object(l["get"])(t,"data",[])))})})),Object(c["a"])(xn,jr,(function(e,t){e.myPost.requesting=!1,e.myPost.status="error",e.myPost.error=t.error})),Object(c["a"])(xn,Yr,(function(e){e.likedPost.requesting=!0,e.likedPost.status=""})),Object(c["a"])(xn,Qr,(function(e,t){e.likedPost.requesting=!1,e.likedPost.status="success",e.likedPost.result=1===t.page?t:Sn({},t,{data:[].concat(Object(g["a"])(Object(l["get"])(e,"likedPost.result.data",[])),Object(g["a"])(Object(l["get"])(t,"data",[])))})})),Object(c["a"])(xn,Kr,(function(e,t){e.likedPost.requesting=!1,e.likedPost.status="error",e.likedPost.error=t.error})),Object(c["a"])(xn,Cr,(function(e,t){e.publicPost.requesting=!0,e.publicPost.status="",e.publicPost.result=1===t?{}:e.publicPost.result})),Object(c["a"])(xn,xr,(function(e,t){e.publicPost.requesting=!1,e.publicPost.status="success",e.publicPost.result=1===t.page?t:Sn({},t,{data:[].concat(Object(g["a"])(Object(l["get"])(e,"publicPost.result.data",[])),Object(g["a"])(Object(l["get"])(t,"data",[])))})})),Object(c["a"])(xn,Pr,(function(e,t){e.publicPost.requesting=!1,e.publicPost.status="error",e.publicPost.error=t.error})),Object(c["a"])(xn,yr,(function(e){e.postDeleting.requesting=!0,e.postDeleting.status=""})),Object(c["a"])(xn,wr,(function(e,t){e.postDeleting.requesting=!1,e.postDeleting.status="success",e.postDeleting.result=t,e.myPost.result=Sn({},e.myPost.result,{data:Object(l["get"])(e,"myPost.result.data",[]).filter((function(e){return e.id!==t}))})})),Object(c["a"])(xn,_r,(function(e,t){e.postDeleting.requesting=!1,e.postDeleting.status="error",e.postDeleting.error=t.error})),Object(c["a"])(xn,Fr,(function(e){e.linkingOpening.requesting=!0,e.linkingOpening.status="",e.linkingOpening.result=null})),Object(c["a"])(xn,Ar,(function(e,t){if(e.linkingOpening.requesting=!1,e.linkingOpening.status="success",e.linkingOpening.result=t,e.publicPost.result=Sn({},e.publicPost.result,{data:Object(l["get"])(e,"publicPost.result.data",[]).map((function(e){return e.id!==t?e:Sn({},e,{view:e.view+1})}))}),t===Object(l["get"])(e,"postDetail.result.data.id")){var r=Object(l["get"])(e,"postDetail.result.data.view");Object(l["set"])(e,"postDetail.result.data.view",r+1)}e.likedPost.result=Sn({},e.likedPost.result,{data:Object(l["get"])(e,"likedPost.result.data",[]).map((function(e){return e.id!==t?e:Sn({},e,{view:e.view+1})}))})})),Object(c["a"])(xn,qr,(function(e,t){e.linkingOpening.requesting=!0,e.linkingOpening.status="error",e.linkingOpening.error=t.error})),Object(c["a"])(xn,Rr,(function(e,t){if(e.likePost.requesting=!0,e.likePost.status="",e.publicPost.result=t.hasLiked?Sn({},e.publicPost.result,{data:Object(l["get"])(e,"publicPost.result.data",[]).map((function(e){return e.id!==t.postId?e:Sn({},e,{__meta__:Sn({},Object(l["get"])(e,"__meta__"),{isUserLiked:0,totalLikeds:parseInt(Object(l["get"])(e,"__meta__.totalLikeds"),10)-1})})}))}):Sn({},e.publicPost.result,{data:Object(l["get"])(e,"publicPost.result.data",[]).map((function(e){return e.id!==t.postId?e:Sn({},e,{__meta__:Sn({},Object(l["get"])(e,"__meta__"),{isUserLiked:1,totalLikeds:parseInt(Object(l["get"])(e,"__meta__.totalLikeds"),10)+1})})}))}),t.postId===Object(l["get"])(e,"postDetail.result.data.id")){var r=parseInt(Object(l["get"])(e,"postDetail.result.data.__meta__.totalLikeds"),10);Object(l["set"])(e,"postDetail.result.data.__meta__.totalLikeds",r+(t.hasLiked?-1:1)),Object(l["set"])(e,"postDetail.result.data.__meta__.isUserLiked",t.hasLiked?0:1)}t.hasLiked&&(e.likedPost.result=Sn({},Object(l["get"])(e,"likedPost.result",{}),{data:Object(l["get"])(e,"likedPost.result.data",[]).filter((function(e){return e.id!==t.postId}))}))})),Object(c["a"])(xn,Ur,(function(e,t){e.likePost.requesting=!1,e.likePost.status="success",e.likePost.result=t})),Object(c["a"])(xn,Ir,(function(e,t){if(e.likePost.requesting=!1,e.likePost.status="error",e.likePost.error=t.error,e.publicPost.result=t.hasLiked?Sn({},e.publicPost.result,{data:Object(l["get"])(e,"publicPost.result.data",[]).map((function(e){return e.id!==t.postId?e:Sn({},e,{__meta__:Sn({},Object(l["get"])(e,"__meta__"),{isUserLiked:1,totalLikeds:parseInt(Object(l["get"])(e,"__meta__.totalLikeds"),10)+1})})}))}):Sn({},e.publicPost.result,{data:Object(l["get"])(e,"publicPost.result.data",[]).map((function(e){return e.id!==t.postId?e:Sn({},e,{__meta__:Sn({},Object(l["get"])(e,"__meta__"),{isUserLiked:0,totalLikeds:parseInt(Object(l["get"])(e,"__meta__.totalLikeds"),10)-1})})}))}),t.postId===Object(l["get"])(e,"postDetail.result.data.id")){var r=parseInt(Object(l["get"])(e,"postDetail.result.data.__meta__.totalLikeds"),10);Object(l["set"])(e,"postDetail.result.data.__meta__.totalLikeds",r+(t.hasLiked?1:-1)),Object(l["set"])(e,"postDetail.result.data.__meta__.isUserLiked",t.hasLiked?1:0)}})),Object(c["a"])(xn,kr,(function(e){e.postDetail.requesting=!0,e.postDetail.status="",e.postDetail.result=null})),Object(c["a"])(xn,Sr,(function(e,t){e.postDetail.requesting=!1,e.postDetail.status="success",e.postDetail.result=t})),Object(c["a"])(xn,Er,(function(e,t){e.postDetail.requesting=!1,e.postDetail.status="error",e.postDetail.error=t.error})),Object(c["a"])(xn,Jr,(function(e,t){e.postQuery.hashtag=t})),Object(c["a"])(xn,Xr,(function(e,t){e.postQuery.category=t})),xn),In={categories:function(e){return Object(l["get"])(e,"category.result.data",[])},myPosts:function(e){return Object(l["get"])(e,"myPost.result.data",[])},likedPosts:function(e){return Object(l["get"])(e,"likedPost.result.data",[])},publicPosts:function(e){return Object(l["get"])(e,"publicPost.result.data",[])},postDetail:function(e){return Object(l["get"])(e,"postDetail.result.data")}},Dn={state:En,actions:Rn,mutations:Un,getters:In};function Ln(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ln(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ln(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fn,An=function(){function e(){Object(Dt["a"])(this,e)}return Object(Lt["a"])(e,null,[{key:"getMessageByConversation",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ft.get("/message/".concat(e),Tn({},r,{params:t}))}},{key:"getUserConversation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ft.get("/users/conversation",Tn({},t,{params:e}))}},{key:"findExistConversation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ft.get("users/find-conversation-by-topic",Tn({},t,{params:e}))}}]),e}();function qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qn(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Mn={message:{requesting:!1,status:"",result:{},error:null},conversation:{requesting:!1,status:"",result:{},error:null},existConversation:{requesting:!1,status:"",result:null,error:null}},Nn={getMessageByConversation:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a,i,o,c,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,s=r.page,a=r.conversationId,i=r.lastMessageId,n(Zr),e.prev=3,e.next=6,An.getMessageByConversation(a,{limit:25,page:s,lastMessageId:i});case 6:o=e.sent,c=o.data,u=i||Object(l["get"])(Object(l["first"])(Object(l["get"])(c,"data",[])),"id"),d=$n({},c,{conversationId:a,lastMessageId:u,data:Object(l["get"])(c,"data",[]).map((function(e){return{message:Object(l["get"])(e,"content"),userId:Object(l["get"])(e,"userId"),createdAt:Object(l["get"])(e,"createdAt"),username:Object(l["get"])(e,"user.username"),avatarUrl:Object(l["get"])(e,"user.profile.avatarUrl")}}))}),n(en,d),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),n(tn,{error:Object(p["serializeError"])(e.t0)});case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));function t(t,r){return e.apply(this,arguments)}return t}(),sendMessage:function(e,t){var r=e.commit;r(rn,t)},receiveMessage:function(e,t){var r=e.commit;r(nn,t)},getUserConversation:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,s=r.page,a=void 0===s?0:s,n(an),e.prev=3,e.next=6,An.getUserConversation(3,{limit:100,page:a});case 6:i=e.sent,n(on,i.data),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),n(cn,{error:Object(p["serializeError"])(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),clearMessages:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,r(mn);case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),findExistConversation:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n(pn),e.prev=2,e.next=5,An.findExistConversation({topic:r});case 5:s=e.sent,a=s.data,n(gn,{data:a}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),n(fn,{error:Object(p["serializeError"])(e.t0)});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));function t(t,r){return e.apply(this,arguments)}return t}(),receiveConversationUpdate:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,n(sn,r);case 2:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},Vn=(Fn={},Object(c["a"])(Fn,Zr,(function(e){e.message.requesting=!0,e.message.status="",e.message.error=null})),Object(c["a"])(Fn,en,(function(e,t){e.message.requesting=!1,e.message.status="success",e.message.result=1===t.page?t:$n({},t,{data:[].concat(Object(g["a"])(Object(l["get"])(e,"message.result.data",[])),Object(g["a"])(t.data))})})),Object(c["a"])(Fn,tn,(function(e,t){e.message.requesting=!1,e.message.status="error",e.message.error=t})),Object(c["a"])(Fn,rn,(function(e,t){var r=Object(l["get"])(e,"message.result.data",[]),n=[t].concat(Object(g["a"])(r));Object(l["set"])(e,"message.result.data",n)})),Object(c["a"])(Fn,nn,(function(e,t){var r=Object(l["get"])(e,"message.result.data",[]),n=[t].concat(Object(g["a"])(r));Object(l["set"])(e,"message.result.data",n)})),Object(c["a"])(Fn,an,(function(e){e.conversation.requesting=!0,e.conversation.status="",e.conversation.error=null})),Object(c["a"])(Fn,on,(function(e,t){e.conversation.requesting=!1,e.conversation.status="success",e.conversation.result=t})),Object(c["a"])(Fn,cn,(function(e,t){e.conversation.requesting=!1,e.conversation.status="error",e.conversation.error=t})),Object(c["a"])(Fn,mn,(function(e){Object(l["set"])(e,"message.result.data",[])})),Object(c["a"])(Fn,pn,(function(e){e.existConversation.requesting=!0,e.existConversation.status="",e.existConversation.result=null,e.existConversation.error=null})),Object(c["a"])(Fn,gn,(function(e,t){e.existConversation.requesting=!1,e.existConversation.status="success",e.existConversation.result=t})),Object(c["a"])(Fn,fn,(function(e,t){e.existConversation.requesting=!1,e.existConversation.status="error",e.existConversation.error=t})),Object(c["a"])(Fn,sn,(function(e,t){var r=Object(l["get"])(e,"conversation.result.data",[]),n=[t].concat(Object(g["a"])(r.filter((function(e){return e.id!==t.id}))));Object(l["set"])(e,"conversation.result.data",n)})),Fn),Gn={messages:function(e){return Object(l["cloneDeep"])(Object(l["get"])(e,"message.result.data",[])).reverse()},conversations:function(e){return Object(l["get"])(e,"conversation.result.data",[])},existConversation:function(e){return Object(l["get"])(e,"existConversation.result.data",[])}},zn={state:Mn,actions:Nn,mutations:Vn,getters:Gn};a["default"].use(i["a"]);var Bn=new i["a"].Store({modules:{user:wn,post:Dn,chat:zn},plugins:[Object(o["a"])({paths:["user.signIn"]})]}),Hn=r("04e1"),Wn=r.n(Hn),Yn=function(){var e=Object(l["get"])(Bn,"getters.currentUser"),t=Object(l["get"])(e,"token"),r=!0;if(t){var n=Wn()(t),s=n.exp;r=Xe()(1e3*s).isAfter(Xe()().startOf("s"))}return r};s.a.defaults.timeout=3e4,s.a.defaults.baseURL="https://adonis-vuejs-post.herokuapp.com/api/v1",s.a.interceptors.request.use((function(e){return Yn()?e:(Bn.dispatch("signOut"),!1)}),(function(e){return Promise.reject(e)})),s.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e.response||e.request||e.message)}));var Qn=r("039f"),Kn=r("1881"),Jn=r.n(Kn),Xn=r("4f76"),Zn=r.n(Xn),es=r("0a63"),ts=r.n(es),rs=r("3f9b"),ns=r("123d"),ss=r.n(ns),as=r("b079"),is=r.n(as),os=(r("2fff"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.$route.meta.public?n("div",[n("router-view")],1):n("div",[n("nav",{staticClass:"navbar navbar-expand-md navbar-dark nav position-fixed w-100 py-0"},[n("a",{staticClass:"navbar-brand title font-weight-bold",on:{click:e.handleToogleSidebar}},[e._v("\n        ADONIS / VUE JS\n      ")]),e._m(0),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[n("ul",{staticClass:"navbar-nav mr-auto py-0"},[e._l(e.routes,(function(t,r){return n("li",{key:r,staticClass:"nav-item",class:{active:e.$route.path===t.path}},[n("router-link",{staticClass:"nav-link",attrs:{to:t.path}},[e._v("\n              "+e._s(t.label)+"\n            ")])],1)})),n("button",{staticClass:"btn btn-outline-light btn-sm mb-1 d-block d-md-none",on:{click:e.handleSignOut}},[e._v("\n            Logout\n          ")])],2)]),n("button",{staticClass:"btn btn-outline-light btn-sm d-none d-md-block",on:{click:e.handleSignOut}},[e._v("\n        Logout\n      ")])]),n("div",{staticClass:"d-flex",class:{toggled:e.toggleSidebar},attrs:{id:"wrapper"}},[n("div",{attrs:{id:"sidebar-wrapper"}},[n("div",{staticClass:"sidebar-content pb-5 mt-2 text-center"},[n("img",{staticClass:"img-fluid mt-4 bg-dark rounded-circle avatar",attrs:{src:e._.get(e.profile,"avatarUrl")||r("889b"),alt:"avatar"}}),n("ul",{staticClass:"infor-list list-unstyled mt-4 text-left mx-2 lead"},[n("li",{staticClass:"text-white text-truncate mt-2"},[n("i",{staticClass:"fa fa-user mr-2"}),e._v("\n              "+e._s(e._.get(e.currentUser,"username",""))+"\n            ")]),n("li",{staticClass:"text-white text-truncate mt-2"},[n("i",{staticClass:"fa fa-transgender mr-2"}),e._v("\n              "+e._s(e._.get(e.profile,"gender")===e.GENDER.female?"Female":"Male")+"\n            ")]),n("li",{staticClass:"text-white text-truncate mt-2"},[n("i",{staticClass:"fa fa-home mr-2"}),e._v("\n              "+e._s(e._.get(e.profile,"address",""))+"\n            ")]),n("li",{staticClass:"text-white text-truncate mt-2"},[n("i",{staticClass:"fa fa-map-marker mr-2"}),e._v("\n              "+e._s(e._.get(e.profile,"city","")+" "+e._.get(e.profile,"country",""))+"\n            ")])]),n("ul",{staticClass:"infor-list list-unstyled mt-4 text-left mx-2 lead",attrs:{id:"user-routes"}},[n("li",{staticClass:"mx-2"},[n("router-link",{staticClass:"text-decoration-none text-light",attrs:{to:"/profile"}},[e._v("Profile")])],1),n("li",{staticClass:"mx-2 mt-3"},[n("router-link",{staticClass:"text-decoration-none text-light",attrs:{to:"/post"}},[e._v("My Posts")])],1),n("li",{staticClass:"mx-2 mt-3"},[n("router-link",{staticClass:"text-decoration-none text-light",attrs:{to:"/post/liked"}},[e._v("Liked Posts")])],1)])])]),n("div",{attrs:{id:"page-content-wrapper"}},[n("div",[n("keep-alive",{attrs:{include:e.keepAliveComponent}},[n("router-view")],1),n("router-view",{attrs:{name:"globalModal"}})],1)])])]),n("confirm-dialog")],1)}),cs=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"navbar-toggler border-0",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[r("span",{staticClass:"navbar-toggler-icon"})])}];function us(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ls(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?us(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):us(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ds(e){return new Promise((function(t){window.fbAsyncInit=function(){var r={version:"v3.1",cookie:!0,xfbml:!0},n=ls({},r,{},e);window.FB.init(n),t()},function(e,t,r){var n=e.getElementsByTagName(t)[0];if(!e.getElementById(r)){var s=e.createElement(t);s.id=r,s.src="//connect.facebook.net/en_US/sdk.js",n.parentNode.insertBefore(s,n)}}(document,"script","facebook-jssdk")}))}function ps(e){return new Promise(function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!window.FB){t.next=4;break}r(window.FB),t.next=7;break;case 4:return t.next=6,ds(e);case 6:r(window.FB);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function gs(){return new Promise((function(e){return window.FB.getLoginStatus(e)}))}function fs(){return new Promise((function(e){return window.FB.logout(e)}))}var ms=function(e){return new Promise((function(t){window.gapi.load("auth2",(function(){var r=window.gapi.auth2.init(e);t(r)}))}))},bs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("modal",{attrs:{name:"confirm-dialog",height:"auto",draggable:!0,transition:"nice-modal-fade",delay:100,classes:"bg-light",clickToClose:!0},on:{"before-open":e.beforeOpen}},[r("div",[r("span",{staticClass:" d-block lead text-info border-bottom text-uppercase px-4 py-2"},[e._v(e._s(e.title))]),r("span",{staticClass:"d-block px-4 py-3 text-secondary"},[e._v(e._s(e.content))]),r("div",{staticClass:"d-flex flex-row"},[r("button",{staticClass:"flex-fill btn btn-danger rounded-0",on:{click:e.handlePressYes}},[e._v("\n          YES\n        ")]),r("button",{staticClass:"flex-fill flex-fill btn btn-secondary rounded-0",on:{click:e.handlePressNo}},[e._v("\n          NO\n        ")])])])])],1)},hs=[],vs={data:function(){return{title:"",content:"",event:null}},methods:{beforeOpen:function(e){console.log(e),this.title=Object(l["get"])(e,"params.title"),this.content=Object(l["get"])(e,"params.content"),this.event=e},handlePressYes:function(){this.event.params.pressYes()},handlePressNo:function(){this.event.params.pressNo()}}},Os=vs,js=Object(y["a"])(Os,bs,hs,!1,null,"7a168f42",null),ys=js.exports;function ws(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ws(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ws(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Cs={data:function(){return{keepAliveComponent:"home",GENDER:C,toggleSidebar:!1,autoToggleSideBar:!0,routes:[{path:"/",label:"Home"},{path:"/message",label:"Message"}]}},computed:_s({},Object(i["b"])({currentUser:"currentUser",profile:"userProfile"})),components:{ConfirmDialog:ys},watch:{currentUser:function(){var e=Object(l["get"])(this.currentUser,"id");e&&this.$store.dispatch("getUserProfile",Object(l["get"])(this.currentUser,"id"))}},created:function(){this.handleResize(),window.addEventListener("resize",this.handleResize);var e=Object(l["get"])(this.currentUser,"id");e&&(this.$store.dispatch("getUserProfile",Object(l["get"])(this.currentUser,"id")),this.$store.dispatch("getCategories"))},destroyed:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleSignOut:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.currentUser.loginSource,e.t0=t,e.next=e.t0===P.facebook?4:e.t0===P.google?12:19;break;case 4:if(window.FB){e.next=7;break}return e.next=7,ps({appId:"1177035546019005"});case 7:return e.next=9,gs();case 9:return e.next=11,fs();case 11:return e.abrupt("break",19);case 12:if(window.gapi.auth2){e.next=15;break}return e.next=15,ms({client_id:"1007497798702-fkjbadii87usbb6ui6c7p62jkl2chjn8.apps.googleusercontent.com"});case 15:return r=window.gapi.auth2.getAuthInstance(),r.disconnect(),r.signOut(),e.abrupt("break",19);case 19:this.$store.dispatch("signOut");case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleToogleSidebar:function(){this.toggleSidebar=!this.toggleSidebar,this.autoToggleSideBar=!this.toggleSidebar},handleResize:function(){var e=window.innerWidth;this.autoToggleSideBar&&(!this.toggleSidebar&&e<768&&(this.toggleSidebar=!0),e>=768&&(this.toggleSidebar=!1))}}},xs=Cs,Ps=(r("034f"),Object(y["a"])(xs,os,cs,!1,null,null,null)),ks=Ps.exports,Ss={computed:{_:function(){return d.a}}},Es={computed:{moment:function(){return Xe.a}}};a["default"].config.productionTip=!1;var Rs=[Ss,Es];Rs.forEach((function(e){return a["default"].mixin(e)})),a["default"].use(Jn.a),a["default"].use(is.a,{position:"top"}),a["default"].use(Zn.a),a["default"].use(ts.a),a["default"].use(rs["a"]),a["default"].use(ss.a),a["default"].component("ValidationProvider",Qn["ValidationProvider"]),a["default"].component("ValidationObserver",Qn["ValidationObserver"]);var Us=Object(l["get"])(Bn,"getters.currentUser"),Is=Object(l["get"])(Us,"token"),Ds=Object(l["get"])(Us,"type");Is&&(s.a.defaults.headers.common.Authorization="".concat(Ds," ").concat(Is)),new a["default"]({router:It,store:Bn,render:function(e){return e(ks)}}).$mount("#app")},6301:function(e,t,r){"use strict";var n=r("eefb"),s=r.n(n);s.a},"64a9":function(e,t,r){},"704c":function(e,t,r){},"889b":function(e,t,r){e.exports=r.p+"img/default-avatar.d2c893f5.png"},"8b6e":function(e,t,r){"use strict";var n=r("a1e7"),s=r.n(n);s.a},"93c9":function(e,t,r){},9420:function(e,t,r){},"9cb6":function(e,t,r){"use strict";var n=r("159b"),s=r.n(n);s.a},a1e7:function(e,t,r){},b722:function(e,t,r){"use strict";var n=r("93c9"),s=r.n(n);s.a},b96e:function(e,t,r){"use strict";var n=r("ea45"),s=r.n(n);s.a},c40b:function(e,t,r){},c5db:function(e,t,r){},c6f1:function(e,t,r){},c71d:function(e,t,r){},d5b4:function(e,t,r){"use strict";var n=r("704c"),s=r.n(n);s.a},d663:function(e,t,r){},de70:function(e,t,r){"use strict";var n=r("f3b2"),s=r.n(n);s.a},e7ad:function(e,t,r){"use strict";var n=r("2eed"),s=r.n(n);s.a},ea45:function(e,t,r){},eefb:function(e,t,r){},f3b2:function(e,t,r){},fd2c:function(e,t,r){"use strict";var n=r("9420"),s=r.n(n);s.a},fffa:function(e,t,r){"use strict";var n=r("c40b"),s=r.n(n);s.a}});
//# sourceMappingURL=app.602eb175.js.map